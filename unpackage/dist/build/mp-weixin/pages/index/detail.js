"use strict";const e=require("../../common/vendor.js");if(!Array){e.resolveComponent("uni-icons")()}Math;const a=e.defineComponent({__name:"detail",setup(a){const t=e.ref({}),r=e.ref([]);e.onMounted((()=>{const a=getCurrentPages(),i=a[a.length-1].options;i&&i.id&&(async a=>{try{const i=await e.nr.callFunction({name:"getProductDetail",data:{id:a}});if(0===i.result.code){const e=i.result.data;if(t.value={id:e._id,name:e.name,image:e.image,description:e.description,designer:e.designer,rating:e.rating,price:e.price,sales:e.sales,size:e.size,material:e.material,color:e.color,features:e.features||[],sceneDesc:e.sceneDesc},e.image){const a=Array.isArray(e.image)?e.image:[e.image];r.value=a}}}catch(i){console.error("获取产品详情失败:",i)}})(i.id)}));const i=()=>{e.index.previewImage({urls:r,current:r[0]})};return(a,n)=>({a:e.f(r.value,((e,a,t)=>({a:e,b:a}))),b:e.o(i),c:e.t(t.value.name),d:e.t(t.value.price),e:e.t(t.value.sales),f:e.p({type:"star-filled",size:"14",color:"#FFB800"}),g:e.t(t.value.rating),h:e.t(t.value.description),i:e.t(t.value.designer),j:e.t(t.value.size),k:e.t(t.value.material),l:e.t(t.value.color),m:e.f(t.value.features,((a,t,r)=>({a:e.t(a),b:a}))),n:e.t(t.value.sceneDesc)})}});wx.createPage(a);
