{"version":3,"file":"db.js","sources":["uni_modules/uni-stat/utssdk/common/utils/db.uts"],"sourcesContent":["const APPID = uni.getSystemInfoSync().appId\r\nexport function dbSet<T>(name : string, value : T) {\r\n\tlet data = uni.getStorageSync('UNI_STAT_DATA:' + APPID)\r\n\tlet newData = {} as UTSJSONObject\r\n\tif (data != null && typeof data == 'object') {\r\n\t\tnewData = data as UTSJSONObject\r\n\t}\r\n\tnewData[name] = value\r\n\tuni.setStorageSync('UNI_STAT_DATA:' + APPID, newData)\n}\r\n\r\nexport function dbGet<T>(name : string) : T | null {\r\n\tlet data = uni.getStorageSync('UNI_STAT_DATA:' + APPID)\r\n\tif (data == null) return null\r\n\tif (typeof data != 'object') return null\r\n\tconst newData = data as UTSJSONObject\r\n\treturn newData[name] as T\r\n}\r\n\r\nexport function dbRemove(name : string) {\r\n\tlet data = uni.getStorageSync('UNI_STAT_DATA:' + APPID)\r\n\tif (data == '') {\r\n\t\tdata = {}\r\n\t}\r\n\tif (data != null) {\r\n\t\tlet newData = data as UTSJSONObject\r\n\t\tif (newData[name] != null) {\r\n\t\t\tnewData[name] = null\r\n\t\t\tuni.setStorageSync('UNI_STAT_DATA:' + APPID, newData)\r\n\t\t}\r\n\t}\r\n}"],"names":["uni"],"mappings":";;AAAA,MAAM,QAAQA,cAAG,MAAC,kBAAmB,EAAC;AACtB,SAAA,MAAS,MAAe,OAAS;AAChD,MAAI,OAAOA,cAAG,MAAC,eAAe,mBAAmB,KAAK;AACtD,MAAI,UAAO,IAAA,cAAG,CAAA,CAAmB;AACjC,MAAI,QAAQ,QAAQ,OAAO,QAAQ,UAAU;AAC5C,cAAU;AAAA,EACV;AACD,UAAQ,IAAI,IAAI;AAChBA,gBAAAA,MAAI,eAAe,mBAAmB,OAAO,OAAO;AACrD;AAEM,SAAU,MAAS,MAAa;AACrC,MAAI,OAAOA,cAAG,MAAC,eAAe,mBAAmB,KAAK;AACtD,MAAI,QAAQ;AAAM,WAAO;AACzB,MAAI,OAAO,QAAQ;AAAU,WAAO;AACpC,QAAM,UAAU;AAChB,SAAO,QAAQ,IAAI;AACpB;AAEM,SAAU,SAAS,MAAa;AACrC,MAAI,OAAOA,cAAG,MAAC,eAAe,mBAAmB,KAAK;AACtD,MAAI,QAAQ,IAAI;AACf,WAAI,IAAA,cAAG,CAAA,CAAE;AAAA,EACT;AACD,MAAI,QAAQ,MAAM;AACjB,QAAI,UAAU;AACd,QAAI,QAAQ,IAAI,KAAK,MAAM;AAC1B,cAAQ,IAAI,IAAI;AAChBA,oBAAAA,MAAI,eAAe,mBAAmB,OAAO,OAAO;AAAA,IACpD;AAAA,EACD;AACF;;;;"}