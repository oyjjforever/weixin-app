{"version":3,"file":"index.js","sources":["uni_modules/uni-stat/utssdk/index.uts"],"sourcesContent":["import { Report, ReportOptions, ReportSuccess, ReportErrorCode } from './interface.uts'\r\nimport { ReportFailImpl } from \"./unierror.uts\"\r\nimport { Stat } from './common/core/stat.uts'\r\nconst stat = Stat.getInstance()\r\n\r\n\r\nexport const report : Report = function (options : ReportOptions) {\r\n\tconst name = options.name\r\n\tconst option = options.options\r\n\tstat.appEvent(name, option, (type : boolean, code : ReportErrorCode) => {\n\t\tif (type) {\n\t\t\tconst res : ReportSuccess = {\r\n\t\t\t\terrMsg: 'report:ok',\r\n\t\t\t}\r\n\t\t\toptions.success?.(res)\r\n\t\t\toptions.complete?.(res)\r\n\t\t} else {\n\t\t\tlet err = new ReportFailImpl(code);\r\n\t\t\toptions.fail?.(err)\r\n\t\t\toptions.complete?.(err)\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport { Stat } from './common/core/stat.uts'\r\n// --- 导出统计类型 ---\r\nexport { UniStatOptions, UniStatCollectItemsOptions, ReportFail } from './interface.uts'\n"],"names":["Stat","ReportSuccess","ReportFailImpl"],"mappings":";;;;AAGA,MAAM,OAAOA,4CAAAA,KAAK;AAGX,MAAM,SAAkB,SAAU,SAAuB;AAC/D,QAAM,OAAO,QAAQ;AACrB,QAAM,SAAS,QAAQ;AACvB,OAAK,SAAS,MAAM,QAAQ,CAAC,MAAgB,SAAsB;;AAClE,QAAI,MAAM;AACT,YAAM,MAAsB,IAAAC,mDAAA;AAAA,QAC3B,QAAQ;AAAA,MACR,CAAA;AACD,OAAA,KAAA,QAAQ,aAAU,QAAA,OAAA,SAAA,OAAA,GAAA,KAAA,SAAA,GAAG;AACrB,OAAA,KAAA,QAAQ,cAAW,QAAA,OAAA,SAAA,OAAA,GAAA,KAAA,SAAA,GAAG;AAAA,IACtB,OAAM;AACN,UAAI,MAAM,IAAIC,mDAAe,IAAI;AACjC,OAAA,KAAA,QAAQ,UAAO,QAAA,OAAA,SAAA,OAAA,GAAA,KAAA,SAAA,GAAG;AAClB,OAAA,KAAA,QAAQ,cAAW,QAAA,OAAA,SAAA,OAAA,GAAA,KAAA,SAAA,GAAG;AAAA,IACtB;AAAA,EACF,CAAC;AACF;;"}