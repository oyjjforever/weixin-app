{"version":3,"file":"picker-view.js","sources":["pages/component/picker-view/picker-view.uvue"],"sourcesContent":["<template>\r\n  <view>\r\n    <page-head :title=\"title\"></page-head>\r\n    <view class=\"uni-padding-wrap\">\r\n      <view class=\"uni-title\">\r\n        日期：{{year}}年{{month}}月{{day}}日\r\n      </view>\r\n    </view>\r\n    <picker-view class=\"picker-view\" :value=\"value\" @change=\"bindChange\" :indicator-style=\"indicatorStyle\"\r\n      :indicator-class=\"indicatorClass\" :mask-style=\"maskStyle\" :mask-class=\"maskClass\" :mask-top-style=\"maskTopStyle\"\r\n      :mask-bottom-style=\"maskBottomStyle\">\r\n      <picker-view-column class=\"picker-view-column\">\r\n        <view class=\"item\" v-for=\"(item,index) in years\" :key=\"index\"><text class=\"text\">{{item}}年</text></view>\r\n      </picker-view-column>\r\n      <picker-view-column class=\"picker-view-column\">\r\n        <view class=\"item\" v-for=\"(item,index) in months\" :key=\"index\"><text class=\"text\">{{item}}月</text>\r\n        </view>\r\n      </picker-view-column>\r\n      <picker-view-column class=\"picker-view-column\">\r\n        <view class=\"item\" v-for=\"(item,index) in days\" :key=\"index\"><text class=\"text\">{{item}}日</text></view>\r\n      </picker-view-column>\r\n    </picker-view>\r\n    <boolean-data :defaultValue=\"false\" title=\"设置选择器中间选中框的样式\" @change=\"setIndicatorStyle\"></boolean-data>\r\n\r\n    <boolean-data :defaultValue=\"false\" title=\"设置选择器中间选中框的类名\" @change=\"setIndicatorClass\"></boolean-data>\r\n    <boolean-data :defaultValue=\"false\" title=\"设置蒙层的样式\" @change=\"setMaskStyle\"></boolean-data>\r\n    <boolean-data :defaultValue=\"false\" title=\"设置蒙层的类名\" @change=\"setMaskClass\"></boolean-data>\r\n\r\n\r\n\r\n\r\n\r\n  </view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n  import { state, setEventCallbackNum } from '@/store/index.uts'\r\n  export default {\r\n    data() {\r\n      // 20180112 HBuilderX内测开始 :)\r\n      const _years : number[] = []\r\n      const _year = 2018\r\n      const _months : number[] = []\r\n      const _month : number = 1\r\n      const _days : number[] = []\r\n      const _day = 12\r\n      for (let i = 2000; i <= _year; i++) {\r\n        _years.push(i)\r\n      }\r\n      for (let i = 1; i <= 12; i++) {\r\n        _months.push(i)\r\n      }\r\n      for (let i = 1; i <= 31; i++) {\r\n        _days.push(i)\r\n      }\r\n      return {\r\n        title: 'picker-view',\r\n        years: _years as number[],\r\n        year: _year as number,\r\n        months: _months as number[],\r\n        month: _month as number,\r\n        days: _days as number[],\r\n        day: _day as number,\r\n        value: [_year - 2000, _month - 1, _day - 1] as number[],\r\n        result: [] as number[],\r\n        indicatorStyle: 'height: 50px;',\r\n        indicatorClass: '',\r\n        maskStyle: '',\r\n        maskClass: '',\r\n        maskTopStyle: '',\r\n        maskBottomStyle: ''\r\n      }\r\n    },\r\n    methods: {\r\n      setIndicatorStyle(checked : boolean) {\r\n        const extraStyle = 'height: 50px;border:#ff5500 solid 1px;background:rgba(182, 179, 255, 0.4);';\r\n\r\n\r\n\r\n\r\n        this.indicatorStyle = checked ? extraStyle : \"height: 50px;\";\r\n\r\n      },\r\n      setIndicatorClass(checked : boolean) {\r\n        this.indicatorClass = checked ? \"indicator-test\" : \"\"\r\n      },\r\n      setMaskStyle(checked : boolean) {\r\n        const extraMaskStyle = \"background-image: linear-gradient(to bottom, #d8e5ff, rgba(216, 229, 255, 0));\"\r\n        this.maskStyle = checked ? extraMaskStyle : \"\"\r\n      },\r\n      setMaskClass(checked : boolean) {\r\n        this.maskClass = checked ? \"mask-test\" : \"\"\r\n      },\r\n      setMaskTopStyle(checked : boolean) {\r\n        const linearToTop = \"background-image: linear-gradient(to bottom, #f4ff73, rgba(216, 229, 255, 0));\"\r\n\r\n\r\n\r\n\r\n        this.maskTopStyle = checked ? linearToTop : \"\"\r\n\r\n      },\r\n      setMaskBottomStyle(checked : boolean) {\r\n        const linearToBottom = \"background-image: linear-gradient(to top, #f4ff73, rgba(216, 229, 255, 0));\"\r\n\r\n\r\n\r\n\r\n        this.maskBottomStyle = checked ? linearToBottom : \"\"\r\n\r\n      },\r\n      // 自动化测试\r\n      getEventCallbackNum() : number {\r\n        return state.eventCallbackNum\r\n      },\r\n      // 自动化测试\r\n      setEventCallbackNum(num : number) {\r\n        setEventCallbackNum(num)\r\n      },\r\n      bindChange(e : UniPickerViewChangeEvent) {\r\n        // 自动化测试 触发事件元素、type 类型\r\n        // uni.__f__('log','at pages/component/picker-view/picker-view.uvue:122',e.target?.tagName, e.type);\r\n        if ((e.target?.tagName ?? '').includes('PICKER-VIEW')) {\r\n          this.setEventCallbackNum(state.eventCallbackNum + 1)\r\n        }\r\n        if (e.type === 'change') {\r\n          this.setEventCallbackNum(state.eventCallbackNum + 2)\r\n        }\r\n        const val = e.detail.value\r\n        this.result = val\r\n        this.year = this.years[val[0]]\r\n        this.month = this.months[val[1]]\r\n        this.day = this.days[val[2]]\r\n      },\r\n      setValue() {\r\n        this.value = [0, 1, 30] as number[]\r\n      },\r\n      setValue1() {\r\n        this.value = [10, 10, 10] as number[]\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .picker-view {\r\n    width: 100%;\r\n    height: 320px;\r\n    margin-top: 10px;\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  .item {\r\n    height: 50px;\r\n  }\r\n\r\n  .text {\r\n    line-height: 50px;\r\n    text-align: center;\r\n  }\r\n\r\n  /* 自动化测试 */\r\n  .indicator-test {\r\n    height: 50px;\r\n    border: #ff5500 solid 1px;\r\n    background:rgba(182, 179, 255, 0.4);\r\n  }\r\n\r\n  .mask-test {\r\n    background-image: linear-gradient(to bottom, #d8e5ff, rgba(216, 229, 255, 0));\r\n  }\r\n</style>\r\n"],"names":["defineComponent","state","setEventCallbackNum"],"mappings":";;;AAqCE,MAAA,YAAeA,8BAAA;AAAA,EACb,OAAI;AAEF,UAAM,SAAoB,CAAA;AAC1B,UAAM,QAAQ;AACd,UAAM,UAAqB,CAAA;AAC3B,UAAM,SAAkB;AACxB,UAAM,QAAmB,CAAA;AACzB,UAAM,OAAO;AACb,aAAS,IAAI,KAAM,KAAK,OAAO,KAAK;AAClC,aAAO,KAAK,CAAC;AAAA,IACf;AACA,aAAS,IAAI,GAAG,KAAK,IAAI,KAAK;AAC5B,cAAQ,KAAK,CAAC;AAAA,IAChB;AACA,aAAS,IAAI,GAAG,KAAK,IAAI,KAAK;AAC5B,YAAM,KAAK,CAAC;AAAA,IACd;AACA,WAAO;AAAA,MACL,OAAO;AAAA,MACP,OAAO;AAAA,MACP,MAAM;AAAA,MACN,QAAQ;AAAA,MACR,OAAO;AAAA,MACP,MAAM;AAAA,MACN,KAAK;AAAA,MACL,OAAO,CAAC,QAAQ,KAAM,SAAS,GAAG,OAAO,CAAC;AAAA,MAC1C,QAAQ,CAAc;AAAA,MACtB,gBAAgB;AAAA,MAChB,gBAAgB;AAAA,MAChB,WAAW;AAAA,MACX,WAAW;AAAA,MACX,cAAc;AAAA,MACd,iBAAiB;AAAA;EAEpB;AAAA,EACD,SAAS;AAAA,IACP,kBAAkB,SAAiB;AACjC,YAAM,aAAa;AAKnB,WAAK,iBAAiB,UAAU,aAAa;AAAA,IAE9C;AAAA,IACD,kBAAkB,SAAiB;AACjC,WAAK,iBAAiB,UAAU,mBAAmB;AAAA,IACpD;AAAA,IACD,aAAa,SAAiB;AAC5B,YAAM,iBAAiB;AACvB,WAAK,YAAY,UAAU,iBAAiB;AAAA,IAC7C;AAAA,IACD,aAAa,SAAiB;AAC5B,WAAK,YAAY,UAAU,cAAc;AAAA,IAC1C;AAAA,IACD,gBAAgB,SAAiB;AAC/B,YAAM,cAAc;AAKpB,WAAK,eAAe,UAAU,cAAc;AAAA,IAE7C;AAAA,IACD,mBAAmB,SAAiB;AAClC,YAAM,iBAAiB;AAKvB,WAAK,kBAAkB,UAAU,iBAAiB;AAAA,IAEnD;AAAA;AAAA,IAED,sBAAmB;AACjB,aAAOC,YAAAA,MAAM;AAAA,IACd;AAAA;AAAA,IAED,oBAAoB,KAAY;AAC9BC,kBAAmB,oBAAC,GAAG;AAAA,IACxB;AAAA,IACD,WAAW,GAA4B;;AAGrC,YAAK,MAAA,KAAA,EAAE,YAAQ,QAAA,OAAA,SAAA,OAAA,GAAA,aAAW,QAAA,OAAA,SAAA,KAAA,IAAI,SAAS,aAAa,GAAG;AACrD,aAAK,oBAAoBD,YAAAA,MAAM,mBAAmB,CAAC;AAAA,MACrD;AACA,UAAI,EAAE,SAAS,UAAU;AACvB,aAAK,oBAAoBA,YAAAA,MAAM,mBAAmB,CAAC;AAAA,MACrD;AACA,YAAM,MAAM,EAAE,OAAO;AACrB,WAAK,SAAS;AACd,WAAK,OAAO,KAAK,MAAM,IAAI,CAAC,CAAC;AAC7B,WAAK,QAAQ,KAAK,OAAO,IAAI,CAAC,CAAC;AAC/B,WAAK,MAAM,KAAK,KAAK,IAAI,CAAC,CAAC;AAAA,IAC5B;AAAA,IACD,WAAQ;AACN,WAAK,QAAQ,CAAC,GAAG,GAAG,EAAE;AAAA,IACvB;AAAA,IACD,YAAS;AACP,WAAK,QAAQ,CAAC,IAAI,IAAI,EAAE;AAAA,IACzB;AAAA,EACH;CACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}