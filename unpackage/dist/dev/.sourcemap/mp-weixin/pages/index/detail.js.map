{"version":3,"file":"detail.js","sources":["pages/index/detail.vue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvZGV0YWlsLnZ1ZQ"],"sourcesContent":["\r\n<template>\r\n  <view class=\"container\">\r\n    <!-- 顶部导航区域 -->\r\n    <view class=\"nav-bar\">\r\n      <view class=\"nav-left\">\r\n        <uni-icons type=\"back\" size=\"24\" color=\"#ffffff\" @click=\"goBack\"/>\r\n      </view>\r\n      <view class=\"nav-right\">\r\n        <uni-icons type=\"star\" size=\"24\" color=\"#ffffff\" class=\"nav-icon\" @click=\"toggleFavorite\"/>\r\n        <uni-icons type=\"redo\" size=\"24\" color=\"#ffffff\" @click=\"handleShare\"/>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 轮播图区域 -->\r\n    <swiper class=\"swiper\" :indicator-dots=\"true\" :autoplay=\"false\" :duration=\"500\" @click=\"previewImage\">\r\n      <swiper-item v-for=\"(item, index) in swiperList\" :key=\"index\">\r\n        <image :src=\"item\" mode=\"aspectFill\" class=\"swiper-image\"/>\r\n      </swiper-item>\r\n    </swiper>\r\n\r\n    <!-- 产品基本信息区域 -->\r\n    <view class=\"info-section\">\r\n      <text class=\"product-name\">{{ productInfo.name }}</text>\r\n      <view class=\"price-section\">\r\n        <text class=\"price-symbol\">¥</text>\r\n        <text class=\"price-value\">{{ productInfo.price }}</text>\r\n      </view>\r\n      <view class=\"stats-section\">\r\n        <text class=\"sales\">月销 {{ productInfo.sales }}</text>\r\n        <view class=\"rating\">\r\n          <uni-icons type=\"star-filled\" size=\"14\" color=\"#FFB800\"/>\r\n          <text class=\"rating-value\">{{ productInfo.rating }}</text>\r\n        </view>\r\n      </view>\r\n      <text class=\"product-desc\">{{ productInfo.description }}</text>\r\n      <view class=\"designer-info\">\r\n        <text class=\"designer-label\">设计师：</text>\r\n        <text class=\"designer-name\">{{ productInfo.designer }}</text>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 产品详细信息区域 -->\r\n    <view class=\"detail-section\">\r\n      <view class=\"spec-card\">\r\n        <view class=\"card-title\">\r\n          <text>产品规格</text>\r\n        </view>\r\n        <view class=\"spec-item\">\r\n          <text class=\"spec-label\">尺寸：</text>\r\n          <text class=\"spec-value\">{{ productInfo.size }}</text>\r\n        </view>\r\n        <view class=\"spec-item\">\r\n          <text class=\"spec-label\">材质：</text>\r\n          <text class=\"spec-value\">{{ productInfo.material }}</text>\r\n        </view>\r\n        <view class=\"spec-item\">\r\n          <text class=\"spec-label\">颜色：</text>\r\n          <text class=\"spec-value\">{{ productInfo.color }}</text>\r\n        </view>\r\n      </view>\r\n\r\n      <view class=\"feature-card\">\r\n        <view class=\"card-title\">\r\n          <text>产品特点</text>\r\n        </view>\r\n        <view class=\"tag-container\">\r\n          <text class=\"tag\" v-for=\"tag in productInfo.features\" :key=\"tag\">{{ tag }}</text>\r\n        </view>\r\n      </view>\r\n\r\n      <view class=\"scene-card\">\r\n        <view class=\"card-title\">\r\n          <text>适用场景</text>\r\n        </view>\r\n        <text class=\"scene-desc\">{{ productInfo.sceneDesc }}</text>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { ref, onMounted } from 'vue';\r\n\r\n// 产品信息\r\nconst productInfo = ref();\r\n\r\nconst swiperList = ref([]);\r\n\r\n// 获取产品详情数据\r\nconst getProductDetail = async (productId: string) => {\r\n  try {\r\n    const result = await uniCloud.callFunction({\r\n      name: 'getProductDetail',\r\n      data: { id: productId }\r\n    });\r\n    \r\n    if (result.result.code === 0) {\r\n      const product = result.result.data;\r\n      productInfo.value = {\r\n        id: product._id,\r\n        name: product.name,\r\n        image: product.image,\r\n        description: product.description,\r\n        designer: product.designer,\r\n        rating: product.rating,\r\n        price: product.price,\r\n        sales: product.sales,\r\n        size: product.size,\r\n        material: product.material,\r\n        color: product.color,\r\n        features: product.features || [],\r\n        sceneDesc: product.sceneDesc\r\n      };\r\n      \r\n      // 如果有产品图片，添加到轮播图中\r\n      if (product.image) {\r\n        swiperList.value.unshift(product.image);\r\n      }\r\n    }\r\n  } catch (error) {\r\n    uni.__f__('error','at pages/index/detail.vue:122','获取产品详情失败:', error);\r\n  }\r\n};\r\n\r\n// 获取页面参数\r\nonMounted(() => {\r\n  const pages = getCurrentPages();\r\n  const currentPage = pages[pages.length - 1];\r\n  const options = currentPage.options;\r\n  \r\n  if (options && options.id) {\r\n    // 如果有产品ID，通过云函数获取详情\r\n    getProductDetail(options.id);\r\n  }\r\n});\r\n\r\nconst goBack = () => {\r\n  uni.navigateBack();\r\n};\r\n\r\nconst toggleFavorite = () => {\r\n  uni.showToast({\r\n    title: '收藏成功',\r\n    icon: 'success'\r\n  });\r\n};\r\n\r\nconst handleShare = () => {\r\n  uni.showShareMenu({\r\n    withShareTicket: true\r\n  });\r\n};\r\n\r\nconst previewImage = () => {\r\n  uni.previewImage({\r\n    urls: swiperList,\r\n    current: swiperList[0]\r\n  });\r\n};\r\n</script>\r\n\r\n<style>\r\npage {\r\n  height: 100%;\r\n  background-color: #f5f5f5;\r\n}\r\n\r\n.container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 100%;\r\n}\r\n\r\n.nav-bar {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 88rpx;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0 30rpx;\r\n  background-color: rgba(0, 0, 0, 0.4);\r\n  z-index: 100;\r\n}\r\n\r\n.nav-left {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 10rpx;\r\n  border-radius: 50%;\r\n  background-color: rgba(255, 255, 255, 0.2);\r\n  cursor: pointer;\r\n}\r\n\r\n.nav-left:hover {\r\n  background-color: rgba(255, 255, 255, 0.3);\r\n}\r\n\r\n.nav-right {\r\n  display: flex;\r\n  gap: 40rpx;\r\n}\r\n\r\n.swiper {\r\n  width: 750rpx;\r\n  height: 800rpx;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.swiper-image {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.info-section {\r\n  padding: 40rpx 30rpx;\r\n  background-color: #ffffff;\r\n}\r\n\r\n.product-name {\r\n  font-size: 36px;\r\n  font-weight: bold;\r\n  color: #333333;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.price-section {\r\n  display: flex;\r\n  align-items: baseline;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.price-symbol {\r\n  font-size: 24px;\r\n  color: #ff4d4f;\r\n  margin-right: 4rpx;\r\n}\r\n\r\n.price-value {\r\n  font-size: 40px;\r\n  font-weight: bold;\r\n  color: #ff4d4f;\r\n}\r\n\r\n.stats-section {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.sales {\r\n  font-size: 14px;\r\n  color: #999999;\r\n  margin-right: 40rpx;\r\n}\r\n\r\n.rating {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.rating-value {\r\n  font-size: 14px;\r\n  color: #333333;\r\n  margin-left: 8rpx;\r\n}\r\n\r\n.product-desc {\r\n  font-size: 14px;\r\n  color: #666666;\r\n  line-height: 1.6;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.designer-info {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.designer-label {\r\n  font-size: 14px;\r\n  color: #999999;\r\n}\r\n\r\n.designer-name {\r\n  font-size: 14px;\r\n  color: #333333;\r\n  font-weight: 500;\r\n}\r\n\r\n.detail-section {\r\n  padding: 20rpx 30rpx;\r\n}\r\n\r\n.spec-card, .feature-card, .scene-card {\r\n  background-color: #ffffff;\r\n  border-radius: 16rpx;\r\n  padding: 30rpx;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.card-title {\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  color: #333333;\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.spec-item {\r\n  display: flex;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.spec-label {\r\n  font-size: 14px;\r\n  color: #999999;\r\n  width: 120rpx;\r\n}\r\n\r\n.spec-value {\r\n  font-size: 14px;\r\n  color: #333333;\r\n  flex: 1;\r\n}\r\n\r\n.tag-container {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 20rpx;\r\n}\r\n\r\n.tag {\r\n  padding: 12rpx 24rpx;\r\n  background-color: #f5f5f5;\r\n  border-radius: 28rpx;\r\n  font-size: 14px;\r\n  color: #666666;\r\n}\r\n\r\n.scene-desc {\r\n  font-size: 14px;\r\n  color: #666666;\r\n  line-height: 1.6;\r\n}\r\n</style>\r\n\r\n","import MiniProgramPage from 'D:/APP_WORKPLACE/其他/lxjj-app/pages/index/detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uniCloud","uni","onMounted","MiniProgramPage"],"mappings":";;;;;;;;;AAqFA,UAAM,cAAcA,cAAAA;AAEd,UAAA,aAAaA,kBAAI,CAAA,CAAE;AAGnB,UAAA,mBAAmB,OAAO,cAAsB;AAChD,UAAA;AACI,cAAA,SAAS,MAAMC,cAAA,GAAS,aAAa;AAAA,UACzC,MAAM;AAAA,UACN,MAAM,EAAE,IAAI,UAAU;AAAA,QAAA,CACvB;AAEG,YAAA,OAAO,OAAO,SAAS,GAAG;AACtB,gBAAA,UAAU,OAAO,OAAO;AAC9B,sBAAY,QAAQ;AAAA,YAClB,IAAI,QAAQ;AAAA,YACZ,MAAM,QAAQ;AAAA,YACd,OAAO,QAAQ;AAAA,YACf,aAAa,QAAQ;AAAA,YACrB,UAAU,QAAQ;AAAA,YAClB,QAAQ,QAAQ;AAAA,YAChB,OAAO,QAAQ;AAAA,YACf,OAAO,QAAQ;AAAA,YACf,MAAM,QAAQ;AAAA,YACd,UAAU,QAAQ;AAAA,YAClB,OAAO,QAAQ;AAAA,YACf,UAAU,QAAQ,YAAY,CAAC;AAAA,YAC/B,WAAW,QAAQ;AAAA,UAAA;AAIrB,cAAI,QAAQ,OAAO;AACN,uBAAA,MAAM,QAAQ,QAAQ,KAAK;AAAA,UACxC;AAAA,QACF;AAAA,eACO,OAAO;AACdC,sBAAA,MAAI,MAAM,SAAQ,iCAAgC,aAAa,KAAK;AAAA,MACtE;AAAA,IAAA;AAIFC,kBAAAA,UAAU,MAAM;AACd,YAAM,QAAQ;AACd,YAAM,cAAc,MAAM,MAAM,SAAS,CAAC;AAC1C,YAAM,UAAU,YAAY;AAExB,UAAA,WAAW,QAAQ,IAAI;AAEzB,yBAAiB,QAAQ,EAAE;AAAA,MAC7B;AAAA,IAAA,CACD;AAED,UAAM,SAAS,MAAM;AACnBD,oBAAA,MAAI,aAAa;AAAA,IAAA;AAGnB,UAAM,iBAAiB,MAAM;AAC3BA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,MAAA,CACP;AAAA,IAAA;AAGH,UAAM,cAAc,MAAM;AACxBA,oBAAAA,MAAI,cAAc;AAAA,QAChB,iBAAiB;AAAA,MAAA,CAClB;AAAA,IAAA;AAGH,UAAM,eAAe,MAAM;AACzBA,oBAAAA,MAAI,aAAa;AAAA,QACf,MAAM;AAAA,QACN,SAAS,WAAW,CAAC;AAAA,MAAA,CACtB;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7JH,GAAG,WAAWE,SAAe;"}