{"version":3,"file":"get-device-info.js","sources":["pages/API/get-device-info/get-device-info.uvue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvQVBJL2dldC1kZXZpY2UtaW5mby9nZXQtZGV2aWNlLWluZm8udXZ1ZQ"],"sourcesContent":["<template>\r\n\r\n\r\n\r\n    <view>\r\n      <page-head :title=\"title\"></page-head>\r\n      <view class=\"uni-common-mt\">\r\n        <view class=\"uni-list\">\r\n          <view class=\"uni-list\">\r\n            <view class=\"uni-list-cell\" v-for=\"(item, _) in items\" style=\"align-items: center\">\r\n              <view class=\"uni-pd\">\r\n                <view class=\"uni-label\" style=\"width: 180px\">{{\r\n                  item.label\r\n                }}</view>\r\n              </view>\r\n              <view class=\"uni-list-cell-db\">\r\n                <text class=\"uni-list-cell-db-text\">{{\r\n                  item.value == \"\" ? \"未获取\" : item.value\r\n                }}</text>\r\n              </view>\r\n            </view>\r\n          </view>\r\n        </view>\r\n        <view class=\"uni-padding-wrap\">\r\n          <view class=\"uni-btn-v\">\r\n            <button type=\"primary\" @tap=\"getDeviceInfo\">获取设备信息</button>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n\r\n\r\n</template>\r\n<script lang=\"uts\">\r\n  import { setDevicePixelRatio } from '@/store/index.uts'\r\n\r\n  type Item = {\r\n    label : string,\r\n    value : string,\r\n  }\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'getDeviceInfo',\r\n        items: [] as Item[],\r\n      }\r\n    },\r\n    onUnload: function () {\r\n    },\r\n    methods: {\r\n      getDeviceInfo: function () {\r\n        const res = uni.getDeviceInfo();\r\n        // 获取像素比, 供截图对比使用\r\n        setDevicePixelRatio(res.devicePixelRatio !== null ? res.devicePixelRatio! : 1)\r\n        this.items = [] as Item[];\r\n\r\n        const res_str = JSON.stringify(res);\r\n        const res_obj = JSON.parseObject(res_str);\r\n        const res_map = res_obj!.toMap();\r\n        let keys = [] as string[]\r\n        res_map.forEach((_, key) => {\r\n          keys.push(key);\r\n        });\r\n        keys.sort().forEach(key => {\r\n          const value = res[key];\r\n          if (value != null) {\r\n            const item = {\r\n              label: key,\r\n              value: \"\" + ((typeof value == \"object\") ? JSON.stringify(value) : value)\r\n            } as Item;\r\n            this.items.push(item);\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .uni-pd {\r\n    padding-left: 15px;\r\n  }\r\n</style>\r\n","import MiniProgramPage from 'W:/Workplace/2.小程序/lihai-app/pages/API/get-device-info/get-device-info.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni","setDevicePixelRatio"],"mappings":";;;MAqCO;;;;;;;;;;;;;;;;;;;;;AAIL,MAAA,YAAeA,8BAAA;AAAA,EACb,OAAI;AACF,WAAO;AAAA,MACL,OAAO;AAAA,MACP,OAAO,CAAY;AAAA;EAEtB;AAAA,EACD,UAAU,WAAA;AAAA,EACT;AAAA,EACD,SAAS;AAAA,IACP,eAAe,WAAA;AACb,YAAM,MAAMC,oBAAI;AAEhBC,kBAAmB,oBAAC,IAAI,qBAAqB,OAAO,IAAI,mBAAoB,CAAC;AAC7E,WAAK,QAAQ;AAEb,YAAM,UAAU,IAAA,KAAK,UAAU,GAAG;AAClC,YAAM,UAAU,IAAA,KAAK,YAAY,OAAO;AACxC,YAAM,UAAU,QAAS;AACzB,UAAI,OAAO,CAAA;AACX,cAAQ,QAAQ,CAAC,IAAC,MAAE,QAAG;AACrB,aAAK,KAAK,GAAG;AAAA,MACf,CAAC;AACD,WAAK,KAAI,EAAG,QAAQ,SAAI;AACtB,cAAM,QAAQ,IAAI,GAAG;AACrB,YAAI,SAAS,MAAM;AACjB,gBAAM,OAAO,IAAA,KAAA;AAAA,YACX,OAAO;AAAA,YACP,OAAO,MAAO,OAAO,SAAS,WAAY,IAAA,KAAK,UAAU,KAAK,IAAI;AAAA,UAC3D,CAAA;AACT,eAAK,MAAM,KAAK,IAAI;AAAA,QACtB;AAAA,MACF,CAAC;AAAA,IACH;AAAA,EACF;CACF;;;;;;;;;;;;;;;;;;;;;;;;;AC3EF,GAAG,WAAW,eAAe;"}