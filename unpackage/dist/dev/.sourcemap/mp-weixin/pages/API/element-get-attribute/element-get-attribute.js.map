{"version":3,"file":"element-get-attribute.js","sources":["pages/API/element-get-attribute/element-get-attribute.uvue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvQVBJL2VsZW1lbnQtZ2V0LWF0dHJpYnV0ZS9lbGVtZW50LWdldC1hdHRyaWJ1dGUudXZ1ZQ"],"sourcesContent":["<template>\n\n\n\n    <view style=\"padding: 15px;\">\n      <view id=\"box\" ref=\"box\">\n        <text class=\"uni-title-text\">元素的id：{{ attrId }}</text>\n\n        <text class=\"uni-title-text\">元素的style：{{ attrStyle }}</text>\n\n        <text class=\"uni-title-text\">元素的背景色样式值：{{ propertyValue }}</text>\n        <text class=\"uni-subtitle-text\">小程序端：getAttribute 获取元素的属性值，目前仅支持id、style</text>\n        <text class=\"uni-subtitle-text\">App端：getAttribute 不支持获取 class、style 属性</text>\n      </view>\n      <button @click=\"getAttributeId\">getAttribute获取元素的id</button>\n      <button @click=\"setStyle\">setProperty设置背景色</button>\n\n      <button @click=\"getAttributeStyle\">getAttribute获取元素的style</button>\n\n      <button @click=\"getPropertyValue\">getPropertyValue获取背景色值</button>\n\n      <child id=\"child\" ref=\"child\"></child>\n      <button @click=\"getBoundingClientRectAsyncChild\">获取自定义组件child元素信息</button>\n      <view class=\"rect-info\" v-if=\"rectInfo\">\n        <view class=\"node-info-item\">\n          <text class=\"node-info-item-k\">x: </text>\n          <text class=\"node-info-item-v\">{{rectInfo.x}}</text>\n        </view>\n        <view class=\"node-info-item\">\n          <text class=\"node-info-item-k\">y: </text>\n          <text class=\"node-info-item-v\">{{rectInfo.y}}</text>\n        </view>\n        <view class=\"node-info-item\">\n          <text class=\"node-info-item-k\">width: </text>\n          <text class=\"node-info-item-v\">{{rectInfo.width}}</text>\n        </view>\n        <view class=\"node-info-item\">\n          <text class=\"node-info-item-k\">height: </text>\n          <text class=\"node-info-item-v\">{{rectInfo.height}}</text>\n        </view>\n        <view class=\"node-info-item\">\n          <text class=\"node-info-item-k\">left: </text>\n          <text class=\"node-info-item-v\">{{rectInfo.left}}</text>\n        </view>\n        <view class=\"node-info-item\">\n          <text class=\"node-info-item-k\">top: </text>\n          <text class=\"node-info-item-v\">{{rectInfo.top}}</text>\n        </view>\n        <view class=\"node-info-item\">\n          <text class=\"node-info-item-k\">right: </text>\n          <text class=\"node-info-item-v\">{{rectInfo.right}}</text>\n        </view>\n        <view class=\"node-info-item\">\n          <text class=\"node-info-item-k\">bottom: </text>\n          <text class=\"node-info-item-v\">{{rectInfo.bottom}}</text>\n        </view>\n      </view>\n      <scroll-view ref=\"scrollView\" class=\"scroll-view_H\" direction=\"horizontal\">\n        <view class=\"scroll-view-item_H uni-bg-red\"><text class=\"text\">A</text></view>\n        <view class=\"scroll-view-item_H uni-bg-green\"><text class=\"text\">B</text></view>\n        <view class=\"scroll-view-item_H uni-bg-blue\"><text class=\"text\">C</text></view>\n      </scroll-view>\n\n      <button @click=\"scrollTo\">scrollTo设置left滚动200px</button>\n\n    </view>\n\n\n\n</template>\n<script lang=\"uts\">\n  import child from './child.uvue'\n  type DomRectType = {\n    x : number,\n    y : number,\n    left : number,\n    top : number,\n    right : number,\n    bottom : number,\n    width : number,\n    height : number,\n  }\n  export default {\n    components: {\n      child\n    },\n    data() {\n      return {\n        boxTarget: null as null | UniElement,\n        scrollViewTarget: null as null | UniElement,\n        attrId: \"\",\n        attrStyle:\"\",\n        propertyValue:\"\",\n        rectInfo: {\n          x: 0,\n          y: 0,\n          width: 0,\n          height: 0,\n          left: 0,\n          top: 0,\n          right: 0,\n          bottom: 0,\n        } as DomRectType,\n      }\n    },\n    onReady() {\n      this.boxTarget = this.$refs['box'] as UniElement\n      this.scrollViewTarget = this.$refs['scrollView'] as UniElement;\n    },\n    methods: {\n      getBoundingClientRectAsyncChild(){\n        const childEl = uni.getElementById('child')!\n        childEl.getBoundingClientRectAsync()!.then((rect : DOMRect) => {\n          uni.__f__('log','at pages/API/element-get-attribute/element-get-attribute.uvue:114','rect: ',rect);\n          this.rectInfo = {\n            x: rect.x,\n            y: rect.y,\n            width: rect.width,\n            height: rect.height,\n            left: rect.left,\n            top: rect.top,\n            right: rect.right,\n            bottom: rect.bottom,\n          } as DomRectType;;\n        })\n      },\n      getAttributeId() {\n        this.attrId = this.boxTarget!.getAttribute('id') ?? \"\"\n      },\n      setStyle() {\n        this.boxTarget!.style.setProperty(\"background-color\", \"#FFF000\")\n      },\n      getPropertyValue() {\n        this.propertyValue = this.boxTarget!.style.getPropertyValue(\"background-color\")\n      },\n      getAttributeStyle() {\n        this.attrStyle = this.boxTarget!.getAttribute('style')?? \"\"\n      },\n      scrollTo() {\n\n        this.scrollViewTarget!.scrollTo({\n          left: 200\n        })\n\n\n\n\n      }\n    }\n  }\n</script>\n<style>\n  .scroll-view_H {\n    width: 100%;\n    flex-direction: row;\n    margin-top:15px;\n  }\n  .scroll-view-item_H {\n    width: 100%;\n    height: 150px;\n    justify-content: center;\n    align-items: center;\n  }\n  .text {\n    font-size: 18px;\n    color: #ffffff;\n  }\n\n  .rect-info {\n    margin-top: 15px;\n    padding: 10px;\n    flex-direction: column;\n  }\n\n  .node-info-item {\n    flex-direction: row;\n  }\n\n  .node-info-item-k {\n    width: 72px;\n    line-height: 2;\n  }\n\n  .node-info-item-v {\n    font-weight: bold;\n    line-height: 2;\n  }\n</style>\n","import MiniProgramPage from 'W:/Workplace/2.小程序/lihai-app/pages/API/element-get-attribute/element-get-attribute.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni"],"mappings":";;AAuEE,MAAO,QAAW,MAAA;MACb;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUL,MAAA,YAAeA,8BAAA;AAAA,EACb,YAAY;AAAA,IACV;AAAA,EACD;AAAA,EACD,OAAI;AACF,WAAO;AAAA,MACL,WAAW;AAAA,MACX,kBAAkB;AAAA,MAClB,QAAQ;AAAA,MACR,WAAU;AAAA,MACV,eAAc;AAAA,MACd,UAAU,IAAA,YAAA;AAAA,QACR,GAAG;AAAA,QACH,GAAG;AAAA,QACH,OAAO;AAAA,QACP,QAAQ;AAAA,QACR,MAAM;AAAA,QACN,KAAK;AAAA,QACL,OAAO;AAAA,QACP,QAAQ;AAAA,OACM;AAAA;EAEnB;AAAA,EACD,UAAO;AACL,SAAK,YAAY,KAAK,MAAM,KAAK;AACjC,SAAK,mBAAmB,KAAK,MAAM,YAAY;AAAA,EAChD;AAAA,EACD,SAAS;AAAA,IACP,kCAA+B;AAC7B,YAAM,UAAUC,cAAAA,MAAI,eAAe,OAAO;AAC1C,cAAQ,2BAA0B,EAAI,KAAK,CAAC,SAAc;AACxDA,sBAAG,MAAC,MAAM,OAAM,qEAAoE,UAAS,IAAI;AACjG,aAAK,WAAW,IAAA,YAAA;AAAA,UACd,GAAG,KAAK;AAAA,UACR,GAAG,KAAK;AAAA,UACR,OAAO,KAAK;AAAA,UACZ,QAAQ,KAAK;AAAA,UACb,MAAM,KAAK;AAAA,UACX,KAAK,KAAK;AAAA,UACV,OAAO,KAAK;AAAA,UACZ,QAAQ,KAAK;AAAA,QACC,CAAA;AAAA,MAClB,CAAC;AAAA,IACF;AAAA,IACD,iBAAc;;AACZ,WAAK,UAAS,KAAA,KAAK,UAAW,aAAa,IAAI,OAAA,QAAA,OAAA,SAAA,KAAK;AAAA,IACrD;AAAA,IACD,WAAQ;AACN,WAAK,UAAW,MAAM,YAAY,oBAAoB,SAAS;AAAA,IAChE;AAAA,IACD,mBAAgB;AACd,WAAK,gBAAgB,KAAK,UAAW,MAAM,iBAAiB,kBAAkB;AAAA,IAC/E;AAAA,IACD,oBAAiB;;AACf,WAAK,aAAY,KAAA,KAAK,UAAW,aAAa,OAAO,OAAC,QAAA,OAAA,SAAA,KAAG;AAAA,IAC1D;AAAA,IACD,WAAQ;AAEN,WAAK,iBAAkB,SAAS;AAAA,QAC9B,MAAM;AAAA,MACP,CAAA;AAAA,IAKH;AAAA,EACF;CACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpJF,GAAG,WAAW,eAAe;"}