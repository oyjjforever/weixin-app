{"version":3,"file":"cloud-object.js","sources":["pages/API/unicloud/unicloud/cloud-object.uvue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvQVBJL3VuaWNsb3VkL3VuaWNsb3VkL2Nsb3VkLW9iamVjdC51dnVl"],"sourcesContent":["<template>\r\n\r\n\r\n\r\n    <view>\r\n      <page-head :title=\"title\"></page-head>\r\n      <view class=\"uni-padding-wrap uni-common-mt\">\r\n        <view class=\"uni-btn-v uni-common-mt\">\r\n          <button type=\"primary\" @tap=\"addTodo\">添加Todo</button>\r\n        </view>\r\n        <view class=\"uni-btn-v uni-common-mt\">\r\n          <button type=\"primary\" @tap=\"addTodoWithGeneric\">\r\n            添加Todo传入泛型\r\n          </button>\r\n        </view>\r\n        <view class=\"uni-btn-v uni-common-mt\">\r\n          <button type=\"primary\" @tap=\"randomFail\">随机触发失败重试</button>\r\n        </view>\r\n        <view class=\"uni-btn-v uni-common-mt\">\r\n          <button type=\"primary\" @tap=\"fail\">云对象失败调用</button>\r\n        </view>\r\n        <view class=\"uni-btn-v uni-common-mt\">\r\n          <button type=\"primary\" @tap=\"failWithNumberErrCode\">\r\n            云对象数字错误码\r\n          </button>\r\n        </view>\r\n        <view class=\"uni-btn-v uni-common-mt\">\r\n          <button type=\"primary\" @tap=\"success\">云对象成功调用</button>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n\r\n\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: '请求云对象',\r\n        todoTitle: '学习编程',\r\n        todoContent: '熟悉uts语法',\r\n        returnTodoTitle: '',\r\n        returnTodoContent: '',\r\n        genericDemoReturnTodoTitle: '',\r\n        genericDemoReturnTodoContent: '',\r\n        failErrCode: '',\r\n        failErrSubject: '',\r\n        failErrDetailTips: '',\r\n        failNumberErrCode: 0,\r\n        successErrCode: -1,\r\n        isUniTest: false\r\n      }\r\n    },\r\n    methods: {\r\n      notify(content : string, title : string) {\r\n        if (!this.isUniTest) {\r\n          uni.showModal({\r\n            title,\r\n            content,\r\n            showCancel: false\r\n          })\r\n        } else {\r\n          uni.__f__('log','at pages/API/unicloud/unicloud/cloud-object.uvue:65',title, content)\r\n        }\r\n      },\r\n      async addTodo() : Promise<void> {\r\n        const todo = uniCloud.importObject('todo', {\r\n          customUI: this.isUniTest\r\n        })\r\n        const title = this.todoTitle\r\n        const content = this.todoContent\r\n        await todo.add<UTSJSONObject>(title, content).then((res : UTSJSONObject) => {\r\n          this.returnTodoTitle = res['title'] as string\r\n          this.returnTodoContent = res['content'] as string\r\n          this.notify(res['showMessage'] as string, '提示')\r\n        }).catch((err : any | null) => {\r\n          uni.__f__('log','at pages/API/unicloud/unicloud/cloud-object.uvue:79',err)\r\n          const error = err as UniCloudError\r\n          uni.__f__('error','at pages/API/unicloud/unicloud/cloud-object.uvue:81',error)\r\n        })\r\n      },\r\n      async addTodoWithGeneric() : Promise<void> {\r\n        type AddTodoResult = {\r\n          title : string,\r\n          content : string,\r\n          showMessage : string\r\n        }\r\n        const todo = uniCloud.importObject('todo', {\r\n          customUI: this.isUniTest\r\n        })\r\n        const title = this.todoTitle\r\n        const content = this.todoContent\r\n        await todo.add<AddTodoResult>(title, content).then((res : AddTodoResult) => {\r\n          this.genericDemoReturnTodoTitle = res.title\r\n          this.genericDemoReturnTodoContent = res.content\r\n          this.notify(res.showMessage, '提示')\r\n        }).catch((err : any | null) => {\r\n          uni.__f__('log','at pages/API/unicloud/unicloud/cloud-object.uvue:100',err)\r\n          const error = err as UniCloudError\r\n          uni.__f__('error','at pages/API/unicloud/unicloud/cloud-object.uvue:102',error)\r\n        })\r\n      },\r\n      async randomFail() : Promise<void> {\r\n        const todoObj = uniCloud.importObject('todo', {\r\n          errorOptions: {\r\n            retry: true\r\n          }\r\n        })\r\n        await todoObj.randomFail().then((res : UTSJSONObject) => {\r\n          this.notify(res['showMessage'] as string, '提示')\r\n        }).catch((err : any | null) => {\r\n          const error = err as UniCloudError\r\n          uni.__f__('error','at pages/API/unicloud/unicloud/cloud-object.uvue:115',error)\r\n        })\r\n      },\r\n      async fail() : Promise<void> {\r\n        const todo = uniCloud.importObject('todo', {\r\n          customUI: this.isUniTest\r\n        })\r\n        await todo.fail().then((res : UTSJSONObject) => {\r\n          this.notify('todo.fail应调用失败，此处错误的触发了成功回调', '错误')\r\n          uni.__f__('log','at pages/API/unicloud/unicloud/cloud-object.uvue:124','todo.fail: ', res);\r\n        }).catch((err : any | null) => {\r\n          const error = err as UniCloudError\r\n          this.failErrCode = error.errCode as string\r\n          this.failErrSubject = error.errSubject as string\r\n          const detail = error.detail\r\n          if (detail != null && detail['tips'] != null) {\r\n            this.failErrDetailTips = detail['tips'] as string\r\n          }\r\n          uni.__f__('error','at pages/API/unicloud/unicloud/cloud-object.uvue:133',error)\r\n        })\r\n      },\r\n      async failWithNumberErrCode() : Promise<void> {\r\n        const todo = uniCloud.importObject('todo', {\r\n          customUI: this.isUniTest\r\n        })\r\n        await todo.failWithNumberErrCode().then((res : UTSJSONObject) => {\r\n          this.notify('todo.fail应调用失败，此处错误的触发了成功回调', '错误')\r\n          uni.__f__('log','at pages/API/unicloud/unicloud/cloud-object.uvue:142','todo.fail: ', res);\r\n        }).catch((err : any | null) => {\r\n          const error = err as UniCloudError\r\n          this.failNumberErrCode = error.errCode as number\r\n          uni.__f__('error','at pages/API/unicloud/unicloud/cloud-object.uvue:146',error)\r\n        })\r\n      },\r\n      async success() : Promise<void> {\r\n        const todo = uniCloud.importObject('todo', {\r\n          customUI: this.isUniTest\r\n        })\r\n        await todo.success().then((res : UTSJSONObject) => {\r\n          this.successErrCode = res['errCode'] as number\r\n          this.notify(res['showMessage'] as string, '提示')\r\n        }).catch((err : any | null) => {\r\n          const error = err as UniCloudError\r\n          uni.__f__('error','at pages/API/unicloud/unicloud/cloud-object.uvue:158',error)\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style></style>\r\n","import MiniProgramPage from 'W:/Workplace/2.小程序/lihai-app/pages/API/unicloud/unicloud/cloud-object.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni","uniCloud"],"mappings":"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"}