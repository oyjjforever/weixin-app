{"version":3,"file":"show-modal.js","sources":["pages/API/show-modal/show-modal.uvue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvQVBJL3Nob3ctbW9kYWwvc2hvdy1tb2RhbC51dnVl"],"sourcesContent":["<template>\r\n\r\n\r\n\r\n    <view>\r\n      <page-head :title=\"title\"></page-head>\r\n      <view class=\"uni-list\">\r\n        <radio-group @change=\"radioChange\">\r\n          <radio class=\"uni-list-cell uni-list-cell-pd\" v-for=\"(item, index) in items\" :key=\"item.value\"\r\n            :class=\"index < items.length - 1 ? 'uni-list-cell-line' : ''\" :value=\"item.value\"\r\n            :checked=\"index === current\">\r\n            {{ item.name }}\r\n          </radio>\r\n        </radio-group>\r\n      </view>\r\n      <view class=\"uni-list\">\r\n        <view class=\"uni-list-cell uni-list-cell-pd\">\r\n          <view class=\"uni-list-cell-db\">是否显示过长文字</view>\r\n          <switch :checked=\"showLongContent\" @change=\"showLongContentChange\" />\r\n        </view>\r\n        <view class=\"uni-list-cell uni-list-cell-pd\">\r\n          <view class=\"uni-list-cell-db\">是否显示取消按钮</view>\r\n          <switch :checked=\"showCancelSelect\" @change=\"showCancelChange\" />\r\n        </view>\r\n        <view class=\"uni-list-cell uni-list-cell-pd\">\r\n          <view class=\"uni-list-cell-db\">定制取消文案</view>\r\n          <switch :checked=\"cancelTextSelect\" @change=\"cancelTextChange\" />\r\n        </view>\r\n        <view class=\"uni-list-cell uni-list-cell-pd\">\r\n          <view class=\"uni-list-cell-db\">定制确认文案</view>\r\n          <switch :checked=\"confirmTextSelect\" @change=\"confirmTextChange\" />\r\n        </view>\r\n        <view class=\"uni-list-cell uni-list-cell-pd\">\r\n          <view class=\"uni-list-cell-db\">测试非法的颜色</view>\r\n          <switch :checked=\"illegalColorSelect\" @change=\"illegalColorChange\" />\r\n        </view>\r\n        <view class=\"uni-list-cell uni-list-cell-pd\">\r\n          <view class=\"uni-list-cell-db\">测试超长的按钮文本</view>\r\n          <switch :checked=\"illegalButtonTextSelect\" @change=\"illegalButtonTextChange\" />\r\n        </view>\r\n        <view class=\"uni-list-cell uni-list-cell-pd\">\r\n          <view class=\"uni-list-cell-db\">是否显示输入框</view>\r\n          <switch :checked=\"editableSelect\" @change=\"editableChange\" />\r\n        </view>\r\n        <view class=\"uni-list-cell uni-list-cell-pd\">\r\n          <view class=\"uni-list-cell-db\">是否定制输入提示词</view>\r\n          <switch :checked=\"placeholderTextSelect\" @change=\"placeholderTextChange\" />\r\n        </view>\r\n      </view>\r\n      <view class=\"uni-padding-wrap uni-common-mt\">\r\n        <text>complete 执行结果：{{ timesShowRet }}</text>\r\n        <view class=\"uni-btn-v\">\r\n          <button class=\"uni-btn-v\" type=\"primary\" @tap=\"modalTap\" id=\"btn-modal-show\">\r\n            modal单次弹出\r\n          </button>\r\n        </view>\r\n        <view class=\"uni-btn-v\">\r\n          <button class=\"uni-btn-v\" type=\"default\" @tap=\"modalTapTimes\" id=\"btn-modal-show-multitime\">\r\n            modal多次弹出\r\n          </button>\r\n        </view>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        <text>\r\n          success/fail 执行结果：{{ exeRet }}\r\n        </text>\r\n      </view>\r\n    </view>\r\n\r\n\r\n\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n  type ItemType = {\r\n    value : string,\r\n    name : string,\r\n  }\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'modal',\r\n        showCancelSelect: false,\r\n        showLongContent: false,\r\n        illegalColorSelect:false,\r\n        illegalButtonTextSelect:false,\r\n        cancelTextSelect: false,\r\n        confirmTextSelect: false,\r\n        editableSelect: false,\r\n        placeholderTextSelect: false,\r\n        exeRet: \"\",\r\n        lastModal : null as UniPage | null,\r\n        items: [{\r\n          value: '标题',\r\n          name: '有标题'\r\n        },\r\n        {\r\n          value: '',\r\n          name: '无标题'\r\n        },\r\n        {\r\n          value: '超长标题测试内容，测试超过显示最大范围之后的样式-超长标题测试内容，测试超过显示最大范围之后的样式',\r\n          name: '超长标题'\r\n        }\r\n        ] as ItemType[],\r\n        current: 0,\r\n        timesShowRet:[] as Array<any>,\r\n      }\r\n    },\r\n    onLoad() {\r\n      uni.showModal({\r\n        title: \"onLoad 调用示例,请手动取消\"\r\n      })\r\n    },\r\n    methods: {\r\n      showLongContentChange: function (e : UniSwitchChangeEvent) {\r\n        this.showLongContent = e.detail.value\r\n      },\r\n      illegalColorChange: function (e : UniSwitchChangeEvent) {\r\n        this.illegalColorSelect = e.detail.value\r\n      },\r\n      illegalButtonTextChange: function (e : UniSwitchChangeEvent) {\r\n        this.illegalButtonTextSelect = e.detail.value\r\n      },\r\n      showCancelChange: function (e : UniSwitchChangeEvent) {\r\n        this.showCancelSelect = e.detail.value\r\n      },\r\n      cancelTextChange: function (e : UniSwitchChangeEvent) {\r\n        this.cancelTextSelect = e.detail.value\r\n      },\r\n      confirmTextChange: function (e : UniSwitchChangeEvent) {\r\n        this.confirmTextSelect = e.detail.value\r\n      },\r\n      editableChange: function (e : UniSwitchChangeEvent) {\r\n        this.editableSelect = e.detail.value\r\n      },\r\n      placeholderTextChange: function (e : UniSwitchChangeEvent) {\r\n        this.editableSelect = e.detail.value\r\n        this.placeholderTextSelect = e.detail.value\r\n      },\r\n      radioChange(e : UniRadioGroupChangeEvent) {\r\n        for (let i = 0; i < this.items.length; i++) {\r\n          if (this.items[i].value === e.detail.value) {\r\n            this.current = i;\r\n            break;\r\n          }\r\n        }\r\n      },\r\n      closeLastModal: function () {\r\n        let that = this\r\n        setTimeout(function(){\r\n          uni.hideModal({\r\n            modalPage:that.lastModal,\r\n            success: (res) => {\r\n              that.exeRet = JSON.stringify(res)\r\n            },\r\n            fail: (res) => {\r\n              that.exeRet = JSON.stringify(res)\r\n            },\r\n            complete: (res) => {\r\n              that.timesShowRet.push(res)\r\n            }\r\n          })\r\n        },3000)\r\n      },\r\n      closeAllModal: function () {\r\n        let that = this\r\n        setTimeout(function(){\r\n          uni.hideModal({\r\n            modalPage:null,\r\n            success: (res) => {\r\n              that.exeRet = JSON.stringify(res)\r\n            },\r\n            fail: (res) => {\r\n              that.exeRet = JSON.stringify(res)\r\n            },\r\n            complete: (res) => {\r\n              that.timesShowRet.push(res)\r\n            }\r\n          })\r\n        },3000)\r\n\r\n      },\r\n      modalTapTimes: function () {\r\n        // 多次弹出前清空结果集合\r\n        this.timesShowRet = []\r\n        this.modalTap()\r\n        this.modalTap()\r\n        let that = this\r\n        setTimeout(function(){\r\n          that.modalTap()\r\n        },200)\r\n      },\r\n      modalTap: function () {\r\n         // 单次弹出前清空多次结果集合\r\n        this.timesShowRet = []\r\n\r\n        let cancelTextVal : string|null = null\r\n        let cancelColorVal = ''\r\n        if (this.cancelTextSelect) {\r\n          cancelTextVal = \"修改后的取消文本\"\r\n          cancelColorVal = \"#ff00ff\"\r\n        }else{\r\n\r\n          cancelTextVal = \"取消\"\r\n\r\n        }\r\n\r\n        let confirmTextVal : string|null = null\r\n        let confirmColorVal = ''\r\n        if (this.confirmTextSelect) {\r\n          confirmTextVal = \"修改后的确定文本\"\r\n          confirmColorVal = \"#0ff\"\r\n        }else{\r\n\r\n          confirmTextVal = \"确定\"\r\n\r\n        }\r\n        let placeholderTextVal = ''\r\n        let contentVal = \"弹窗内容，告知当前状态、信息和解决方法，描述文字尽量控制在三行内\"\r\n\r\n        if (this.showLongContent) {\r\n          contentVal = \"弹窗内容，告知当前状态、信息和解决方法，描述文字原则上可以无限多！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！\"\r\n        }\r\n        if (this.placeholderTextSelect) {\r\n          placeholderTextVal = \"定制提示信息\"\r\n        }\r\n        if (this.illegalColorSelect) {\r\n          cancelColorVal = \"#WW00ff\"\r\n          confirmColorVal = \"#0ffff\"\r\n        }\r\n        if (this.illegalButtonTextSelect) {\r\n          confirmTextVal = \"超长版文字-修改后的确定文本-超长版本文字\"\r\n          cancelTextVal = \"超长版文字-修改后的取消文本-超长版本文字\"\r\n        }\r\n\r\n        let op = {\r\n          title: this.items[this.current].value,\r\n          editable: this.editableSelect,\r\n          placeholderText: placeholderTextVal,\r\n          content: contentVal,\r\n          showCancel: this.showCancelSelect,\r\n          cancelText: cancelTextVal,\r\n          cancelColor: cancelColorVal,\r\n          confirmText: confirmTextVal,\r\n          confirmColor: confirmColorVal,\r\n          success: (res) => {\r\n            this.exeRet = JSON.stringify(res)\r\n          },\r\n          fail: (res) => {\r\n            this.exeRet = JSON.stringify(res)\r\n          },\r\n          complete: (res) => {\r\n            this.timesShowRet.push(res)\r\n          }\r\n        } as ShowModalOptions\r\n        // uni.__f__('log','at pages/API/show-modal/show-modal.uvue:267',op)\r\n        this.lastModal = uni.showModal(op)\r\n      }\r\n\r\n    }\r\n  }\r\n</script>\r\n","import MiniProgramPage from 'W:/Workplace/2.小程序/lihai-app/pages/API/show-modal/show-modal.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni"],"mappings":"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"}