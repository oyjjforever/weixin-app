{"version":3,"file":"get-app.js","sources":["pages/API/get-app/get-app.uvue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvQVBJL2dldC1hcHAvZ2V0LWFwcC51dnVl"],"sourcesContent":["<template>\r\n\r\n\r\n\r\n    <view>\r\n      <page-head title=\"getApp\"></page-head>\r\n      <view class=\"uni-padding-wrap\">\r\n        <button @click=\"getGlobalData\">get globalData</button>\r\n        <template v-if=\"originGlobalData.str.length\">\r\n          <text class=\"uni-common-mt bold\">初始的 globalData:</text>\r\n          <text class=\"uni-common-mt\">globalData string: {{ originGlobalData.str }}</text>\r\n          <text class=\"uni-common-mt\">globalData number: {{ originGlobalData.num }}</text>\r\n          <text class=\"uni-common-mt\">globalData boolean: {{ originGlobalData.bool }}</text>\r\n          <text class=\"uni-common-mt\">globalData object: {{ originGlobalData.obj }}</text>\r\n          <text class=\"uni-common-mt\">globalData null: {{ originGlobalData.null }}</text>\r\n          <text class=\"uni-common-mt\">globalData array: {{ originGlobalData.arr }}</text>\r\n          <text class=\"uni-common-mt\">globalData Set: {{ originGlobalData.mySet }}</text>\r\n          <text class=\"uni-common-mt\">globalData Map: {{ originGlobalData.myMap }}</text>\r\n          <text class=\"uni-common-mt\">globalData func 返回值: {{ originGlobalDataFuncRes }}</text>\r\n        </template>\r\n        <button @click=\"setGlobalData\" class=\"uni-common-mt\">\r\n          set globalData\r\n        </button>\r\n        <template v-if=\"newGlobalData.bool\">\r\n          <text class=\"uni-common-mt bold\">更新后的 globalData:</text>\r\n          <text class=\"uni-common-mt\">globalData string: {{ newGlobalData.str }}</text>\r\n          <text class=\"uni-common-mt\">globalData number: {{ newGlobalData.num }}</text>\r\n          <text class=\"uni-common-mt\">globalData boolean: {{ newGlobalData.bool }}</text>\r\n          <text class=\"uni-common-mt\">globalData object: {{ newGlobalData.obj }}</text>\r\n          <text class=\"uni-common-mt\">globalData null: {{ newGlobalData.null }}</text>\r\n          <text class=\"uni-common-mt\">globalData array: {{ newGlobalData.arr }}</text>\r\n          <text class=\"uni-common-mt\">globalData Set: {{ newGlobalData.mySet }}</text>\r\n          <text class=\"uni-common-mt\">globalData Map: {{ newGlobalData.myMap }}</text>\r\n          <text class=\"uni-common-mt\">globalData func 返回值: {{ newGlobalDataFuncRes }}</text>\r\n        </template>\r\n        <text class=\"uni-common-mt\">点击按钮调用 App.uvue methods</text>\r\n        <text class=\"uni-common-mt\">increasetLifeCycleNum 方法</text>\r\n        <button class=\"uni-common-mt\" @click=\"_increasetLifeCycleNum\">\r\n          increase lifeCycleNum\r\n        </button>\r\n        <text class=\"uni-common-mt\">lifeCycleNum: {{ lifeCycleNum }}</text>\r\n\r\n\r\n\r\n\r\n\r\n\r\n      </view>\r\n    </view>\r\n\r\n\r\n\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n  import { state, setLifeCycleNum } from '@/store/index.uts'\r\n\r\n  type MyGlobalData = {\r\n    str : string,\r\n    num : number,\r\n    bool : boolean,\r\n    obj : UTSJSONObject,\r\n    null : string | null,\r\n    arr : number[],\r\n    mySet : string[],\r\n    myMap : UTSJSONObject,\r\n    func : () => string\r\n  }\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        originGlobalData: {\r\n          str: '',\r\n          num: 0,\r\n          bool: false,\r\n          obj: {\r\n            str: '',\r\n            num: 0,\r\n            bool: false\r\n          } as UTSJSONObject,\r\n          null: null,\r\n          arr: [] as number[],\r\n          mySet: [] as string[],\r\n          myMap: {},\r\n          func: () : string => ''\r\n        } as MyGlobalData,\r\n        originGlobalDataFuncRes: '',\r\n        newGlobalData: {\r\n          str: '',\r\n          num: 0,\r\n          bool: false,\r\n          obj: {\r\n            str: '',\r\n            num: 0,\r\n            bool: false\r\n          } as UTSJSONObject,\r\n          null: null,\r\n          arr: [] as number[],\r\n          mySet: [] as string[],\r\n          myMap: {},\r\n          func: () : string => ''\r\n        } as MyGlobalData,\r\n        newGlobalDataFuncRes: '',\r\n        lifeCycleNum: 0,\r\n        androidApplication: null as any | null\r\n      }\r\n    },\r\n    onReady() {\r\n      this.lifeCycleNum = state.lifeCycleNum\r\n    },\r\n    methods: {\r\n      getGlobalData() {\r\n        const app = getApp()\r\n\r\n        this.originGlobalData.str = app.globalData.str\r\n        this.originGlobalData.num = app.globalData.num\r\n        this.originGlobalData.bool = app.globalData.bool\r\n        this.originGlobalData.obj = app.globalData.obj\r\n        this.originGlobalData.null = app.globalData.null\r\n        this.originGlobalData.arr = app.globalData.arr\r\n        app.globalData.mySet.forEach((value : string) => {\r\n          this.originGlobalData.mySet.push(value)\r\n        })\r\n        app.globalData.myMap.forEach((value : any, key : string) => {\r\n          this.originGlobalData.myMap[key] = value\r\n        })\r\n        this.originGlobalData.func = app.globalData.func\r\n        this.originGlobalDataFuncRes = this.originGlobalData.func()\r\n      },\r\n      setGlobalData() {\r\n        const app = getApp()\r\n\r\n        app.globalData.str = 'new globalData str'\r\n        app.globalData.num = 100\r\n        app.globalData.bool = true\r\n        app.globalData.obj = {\r\n          str: 'new globalData obj str',\r\n          num: 200,\r\n          bool: true\r\n        }\r\n        app.globalData.null = 'not null'\r\n        app.globalData.arr = [1, 2, 3]\r\n        app.globalData.mySet = new Set(['a', 'b', 'c'])\r\n        app.globalData.myMap = new Map([\r\n          ['a', 1],\r\n          ['b', 2],\r\n          ['c', 3]\r\n        ])\r\n        app.globalData.func = () : string => {\r\n          return 'new globalData func'\r\n        }\r\n\r\n        this.newGlobalData.str = app.globalData.str\r\n        this.newGlobalData.num = app.globalData.num\r\n        this.newGlobalData.bool = app.globalData.bool\r\n        this.newGlobalData.obj = app.globalData.obj\r\n        this.newGlobalData.null = app.globalData.null\r\n        this.newGlobalData.arr = app.globalData.arr\r\n        app.globalData.mySet.forEach((value : string) => {\r\n          this.newGlobalData.mySet.push(value)\r\n        })\r\n        app.globalData.myMap.forEach((value : any, key : string) => {\r\n          this.newGlobalData.myMap[key] = value\r\n        })\r\n        this.newGlobalData.func = app.globalData.func\r\n        this.newGlobalDataFuncRes = this.newGlobalData.func()\r\n      },\r\n      _increasetLifeCycleNum: function () {\r\n        const app = getApp()\r\n        app.vm!.increasetLifeCycleNum()\r\n        this.lifeCycleNum = state.lifeCycleNum\r\n      },\r\n      // 自动化测试\r\n      setLifeCycleNum(num : number) {\r\n        setLifeCycleNum(num)\r\n      },\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    },\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .bold {\r\n    font-weight: bold;\r\n  }\r\n\r\n  .hr {\r\n    border-bottom: 1px solid #ccc;\r\n  }\r\n</style>\r\n","import MiniProgramPage from 'W:/Workplace/2.小程序/lihai-app/pages/API/get-app/get-app.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","state","setLifeCycleNum"],"mappings":";;;MAyDO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAYL,MAAA,YAAeA,8BAAA;AAAA,EACb,OAAI;AACF,WAAO;AAAA,MACL,kBAAkB,IAAA,aAAA;AAAA,QAChB,KAAK;AAAA,QACL,KAAK;AAAA,QACL,MAAM;AAAA,QACN,KAAK,IAAA,cAAA;AAAA,UACH,KAAK;AAAA,UACL,KAAK;AAAA,UACL,MAAM;AAAA,SACU;AAAA,QAClB,MAAM;AAAA,QACN,KAAK,CAAc;AAAA,QACnB,OAAO,CAAc;AAAA,QACrB,OAAK,IAAA,cAAE,EAAE;AAAA,QACT,MAAM,MAAA;AAAe,iBAAA;AAAA,QAAA;AAAA,OACN;AAAA,MACjB,yBAAyB;AAAA,MACzB,eAAe,IAAA,aAAA;AAAA,QACb,KAAK;AAAA,QACL,KAAK;AAAA,QACL,MAAM;AAAA,QACN,KAAK,IAAA,cAAA;AAAA,UACH,KAAK;AAAA,UACL,KAAK;AAAA,UACL,MAAM;AAAA,SACU;AAAA,QAClB,MAAM;AAAA,QACN,KAAK,CAAc;AAAA,QACnB,OAAO,CAAc;AAAA,QACrB,OAAK,IAAA,cAAE,EAAE;AAAA,QACT,MAAM,MAAA;AAAe,iBAAA;AAAA,QAAA;AAAA,OACN;AAAA,MACjB,sBAAsB;AAAA,MACtB,cAAc;AAAA,MACd,oBAAoB;AAAA;EAEvB;AAAA,EACD,UAAO;AACL,SAAK,eAAeC,YAAK,MAAC;AAAA,EAC3B;AAAA,EACD,SAAS;AAAA,IACP,gBAAa;AACX,YAAM,MAAM;AAEZ,WAAK,iBAAiB,MAAM,IAAI,WAAW;AAC3C,WAAK,iBAAiB,MAAM,IAAI,WAAW;AAC3C,WAAK,iBAAiB,OAAO,IAAI,WAAW;AAC5C,WAAK,iBAAiB,MAAM,IAAI,WAAW;AAC3C,WAAK,iBAAiB,OAAO,IAAI,WAAW;AAC5C,WAAK,iBAAiB,MAAM,IAAI,WAAW;AAC3C,UAAI,WAAW,MAAM,QAAQ,CAAC,UAAc;AAC1C,aAAK,iBAAiB,MAAM,KAAK,KAAK;AAAA,MACxC,CAAC;AACD,UAAI,WAAW,MAAM,QAAQ,CAAC,QAAW,MAAE,QAAY;AACrD,aAAK,iBAAiB,MAAM,GAAG,IAAI;AAAA,MACrC,CAAC;AACD,WAAK,iBAAiB,OAAO,IAAI,WAAW;AAC5C,WAAK,0BAA0B,KAAK,iBAAiB,KAAI;AAAA,IAC1D;AAAA,IACD,gBAAa;AACX,YAAM,MAAM;AAEZ,UAAI,WAAW,MAAM;AACrB,UAAI,WAAW,MAAM;AACrB,UAAI,WAAW,OAAO;AACtB,UAAI,WAAW,MAAM,IAAA,cAAA;AAAA,QACnB,KAAK;AAAA,QACL,KAAK;AAAA,QACL,MAAM;AAAA,MACR,CAAA;AACA,UAAI,WAAW,OAAO;AACtB,UAAI,WAAW,MAAM,CAAC,GAAG,GAAG,CAAC;AAC7B,UAAI,WAAW,QAAQ,oBAAI,IAAI,CAAC,KAAK,KAAK,GAAG,CAAC;AAC9C,UAAI,WAAW,QAAQ,oBAAI,IAAI;AAAA,QAC7B,CAAC,KAAK,CAAC;AAAA,QACP,CAAC,KAAK,CAAC;AAAA,QACP,CAAC,KAAK,CAAC;AAAA,MACR,CAAA;AACD,UAAI,WAAW,OAAO,MAAA;AACpB,eAAO;AAAA,MACT;AAEA,WAAK,cAAc,MAAM,IAAI,WAAW;AACxC,WAAK,cAAc,MAAM,IAAI,WAAW;AACxC,WAAK,cAAc,OAAO,IAAI,WAAW;AACzC,WAAK,cAAc,MAAM,IAAI,WAAW;AACxC,WAAK,cAAc,OAAO,IAAI,WAAW;AACzC,WAAK,cAAc,MAAM,IAAI,WAAW;AACxC,UAAI,WAAW,MAAM,QAAQ,CAAC,UAAc;AAC1C,aAAK,cAAc,MAAM,KAAK,KAAK;AAAA,MACrC,CAAC;AACD,UAAI,WAAW,MAAM,QAAQ,CAAC,QAAW,MAAE,QAAY;AACrD,aAAK,cAAc,MAAM,GAAG,IAAI;AAAA,MAClC,CAAC;AACD,WAAK,cAAc,OAAO,IAAI,WAAW;AACzC,WAAK,uBAAuB,KAAK,cAAc,KAAI;AAAA,IACpD;AAAA,IACD,wBAAwB,WAAA;AACtB,YAAM,MAAM;AACZ,UAAI,GAAI;AACR,WAAK,eAAeA,YAAK,MAAC;AAAA,IAC3B;AAAA;AAAA,IAED,gBAAgB,KAAY;AAC1BC,kBAAe,gBAAC,GAAG;AAAA,IACpB;AAAA,EAQF;CACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxLF,GAAG,WAAW,eAAe;"}