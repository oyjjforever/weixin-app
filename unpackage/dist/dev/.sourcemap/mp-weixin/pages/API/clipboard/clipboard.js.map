{"version":3,"file":"clipboard.js","sources":["pages/API/clipboard/clipboard.uvue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvQVBJL2NsaXBib2FyZC9jbGlwYm9hcmQudXZ1ZQ"],"sourcesContent":["<template>\r\n  <view>\r\n    <page-head :title=\"title\"></page-head>\r\n    <view class=\"uni-padding-wrap\">\r\n      <view class=\"uni-title\">请输入剪贴板内容</view>\r\n      <view class=\"uni-list\">\r\n        <view class=\"uni-list-cell\">\r\n          <input class=\"uni-input\" type=\"text\" placeholder=\"请输入剪贴板内容\" :value=\"data\" @input=\"dataChange\" />\r\n        </view>\r\n      </view>\r\n      <view class=\"uni-btn-v\">\r\n        <button type=\"primary\" @click=\"setClipboard\">存储数据</button>\r\n        <button @tap=\"getClipboard\">读取数据</button>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n<script lang=\"uts\">\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'get/setClipboardData',\r\n        data: '',\r\n        // 自动化测试\r\n        getDataTest: '',\r\n        setClipboardTest: false\r\n      }\r\n    },\r\n    methods: {\r\n      dataChange: function (e:UniInputEvent) {\r\n        this.data = e.detail.value\r\n      },\r\n      getClipboard: function () {\r\n        uni.getClipboardData({\r\n          success: (res) => {\r\n            uni.__f__('log','at pages/API/clipboard/clipboard.uvue:36',res.data);\r\n            this.getDataTest = res.data;\r\n            const content = res.data != \"\" ? '剪贴板内容为:' + res.data : '剪贴板暂无内容';\r\n            uni.showModal({\r\n              content,\r\n              title: '读取剪贴板',\r\n              showCancel: false\r\n            })\r\n          },\r\n          fail: (err) => {\r\n            uni.showModal({\r\n              content: `读取剪贴板失败: ${err.errMsg}`,\r\n              showCancel: false\r\n            })\r\n          }\r\n        });\r\n      },\r\n      setClipboard: function () {\r\n        if (this.data.length == 0) {\r\n          uni.showModal({\r\n            title: '设置剪贴板失败',\r\n            content: '内容不能为空',\r\n            showCancel: false\r\n          })\r\n        } else {\r\n          uni.setClipboardData({\r\n            data: this.data,\r\n            success: () => {\r\n              this.setClipboardTest = true\r\n              // 成功处理\r\n              uni.showToast({\r\n                title: '设置剪贴板成功',\r\n                icon: \"success\"\r\n              })\r\n            },\r\n            fail: () => {\r\n              // bug：自动化测试时设置成功也进入了fail\r\n              this.setClipboardTest = false\r\n              // 失败处理\r\n              uni.showToast({\r\n                title: '储存数据失败!',\r\n                icon: \"none\"\r\n              })\r\n            }\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n</style>\n","import MiniProgramPage from 'W:/Workplace/2.小程序/lihai-app/pages/API/clipboard/clipboard.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni"],"mappings":";;AAkBE,MAAA,YAAeA,8BAAA;AAAA,EACb,OAAI;AACF,WAAO;AAAA,MACL,OAAO;AAAA,MACP,MAAM;AAAA;AAAA,MAEN,aAAa;AAAA,MACb,kBAAkB;AAAA;EAErB;AAAA,EACD,SAAS;AAAA,IACP,YAAY,SAAU,GAAe;AACnC,WAAK,OAAO,EAAE,OAAO;AAAA,IACtB;AAAA,IACD,cAAc,WAAA;AACZC,0BAAI,iBAAiB,IAAA,cAAA;AAAA,QACnB,SAAS,CAAC,QAAG;AACXA,wBAAG,MAAC,MAAM,OAAM,4CAA2C,IAAI,IAAI;AACnE,eAAK,cAAc,IAAI;AACvB,gBAAM,UAAU,IAAI,QAAQ,KAAK,YAAY,IAAI,OAAO;AACxDA,8BAAI,UAAU,IAAA,cAAA;AAAA,YACZ;AAAA,YACA,OAAO;AAAA,YACP,YAAY;AAAA,UACb,CAAA,CAAA;AAAA,QACF;AAAA,QACD,MAAM,CAAC,QAAG;AACRA,8BAAI,UAAU,IAAA,cAAA;AAAA,YACZ,SAAS,YAAY,IAAI,MAAM;AAAA,YAC/B,YAAY;AAAA,UACb,CAAA,CAAA;AAAA,QACH;AAAA,MACD,CAAA,CAAA;AAAA,IACF;AAAA,IACD,cAAc,WAAA;AACZ,UAAI,KAAK,KAAK,UAAU,GAAG;AACzBA,4BAAI,UAAU,IAAA,cAAA;AAAA,UACZ,OAAO;AAAA,UACP,SAAS;AAAA,UACT,YAAY;AAAA,QACb,CAAA,CAAA;AAAA,MACD,OAAK;AACLA,sBAAAA,MAAI,iBAAiB;AAAA,UACnB,MAAM,KAAK;AAAA,UACX,SAAS,MAAA;AACP,iBAAK,mBAAmB;AAExBA,0BAAAA,MAAI,UAAU;AAAA,cACZ,OAAO;AAAA,cACP,MAAM;AAAA,YACP,CAAA;AAAA,UACF;AAAA,UACD,MAAM,MAAA;AAEJ,iBAAK,mBAAmB;AAExBA,0BAAAA,MAAI,UAAU;AAAA,cACZ,OAAO;AAAA,cACP,MAAM;AAAA,YACP,CAAA;AAAA,UACH;AAAA,QACD,CAAA;AAAA,MACH;AAAA,IACF;AAAA,EACF;CACF;;;;;;;;;;;;;;;;;;;;;;AClFF,GAAG,WAAW,eAAe;"}