{"version":3,"file":"get-image-info.js","sources":["pages/API/get-image-info/get-image-info.uvue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvQVBJL2dldC1pbWFnZS1pbmZvL2dldC1pbWFnZS1pbmZvLnV2dWU"],"sourcesContent":["<template>\r\n\r\n\r\n\r\n    <page-head :title=\"title\"></page-head>\r\n    <view class=\"uni-padding-wrap\">\r\n      <view class=\"uni-title\">\r\n        <text class=\"uni-subtitle-text\">获取本地相对路径图片信息</text>\r\n      </view>\r\n      <image class=\"image\" :src=\"relativeImagePath\" mode=\"aspectFit\"></image>\r\n      <text class=\"margin-top-10\">{{absoluteImageInfo}}</text>\r\n      <view class=\"uni-title\">\r\n        <text class=\"uni-subtitle-text\">获取网络路径图片信息</text>\r\n      </view>\r\n      <image class=\"image\" :src=\"remoteImagePath\" mode=\"aspectFit\"></image>\r\n      <text class=\"margin-top-10\">{{remoteImageInfo}}</text>\r\n      <view class=\"uni-title\">\r\n        <text class=\"uni-subtitle-text\">获取本地绝对路径图片信息</text>\r\n      </view>\r\n      <image class=\"image\" :src=\"absoluteImagePath\" mode=\"aspectFit\"></image>\r\n      <text class=\"margin-top-10\">{{relativeImageInfo}}</text>\r\n      <view class=\"uni-btn-v\">\r\n        <button type=\"primary\" @click=\"chooseImage\">拍摄照片或从相册中选择照片</button>\r\n      </view>\r\n    </view>\r\n\r\n\r\n\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: \"getImageInfo\",\r\n        relativeImagePath: \"/static/test-image/logo.png\",\r\n        relativeImageInfo: \"\",\r\n        absoluteImagePath: \"\",\r\n        absoluteImageInfo: \"\",\r\n        remoteImagePath: \"https://qiniu-web-assets.dcloud.net.cn/uni-app-x/static/img/building.jpg\",\r\n        remoteImageInfo: \"\",\r\n        // 自动化测试\r\n        imageInfoForTest: null as UTSJSONObject | null,\r\n      }\r\n    },\r\n    methods: {\r\n      chooseImage() {\r\n        uni.chooseImage({\r\n          count: 1,\r\n          success: (res) => {\r\n            this.absoluteImagePath = res.tempFilePaths[0];\r\n            uni.getImageInfo({\r\n              src: res.tempFilePaths[0],\r\n              success: (_res) => {\r\n                uni.__f__('log','at pages/API/get-image-info/get-image-info.uvue:55',\"getImageInfo success\", JSON.stringify(_res));\r\n                this.relativeImageInfo = `图片宽度: ${_res.width}\\n图片高度: ${_res.height}\\n图片路径: ${_res.path}\\n图片方向: ${_res.orientation}\\n图片格式: ${_res.type}`;\r\n              },\r\n              fail: (err) => {\r\n                uni.showModal({\r\n                  title: \"获取图片信息失败\",\r\n                  content: JSON.stringify(err),\r\n                  showCancel: false\r\n                });\r\n              }\r\n            });\r\n          }\r\n        });\r\n      }\r\n    },\r\n    onReady() {\r\n      uni.getImageInfo({\r\n        src: this.relativeImagePath,\r\n        success: (res) => {\r\n          uni.__f__('log','at pages/API/get-image-info/get-image-info.uvue:74',\"getImageInfo success\", JSON.stringify(res));\r\n          this.absoluteImageInfo = `图片宽度: ${res.width}\\n图片高度: ${res.height}\\n图片路径: ${res.path}\\n图片方向: ${res.orientation}\\n图片格式: ${res.type}`;\r\n          this.imageInfoForTest = {\r\n            \"width\": res.width,\r\n            \"height\": res.height,\r\n            \"path\": res.path.slice(res.path.indexOf('static/') + 'static/'.length),\r\n            \"orientation\": res.orientation,\r\n            \"type\": res.type\r\n          };\r\n        },\r\n        fail: (err) => {\r\n          uni.showModal({\r\n            title: \"获取图片信息失败\",\r\n            content: JSON.stringify(err),\r\n            showCancel: false\r\n          });\r\n          this.imageInfoForTest = null;\r\n        }\r\n      });\r\n      uni.getImageInfo({\r\n        src: this.remoteImagePath,\r\n        success: (res) => {\r\n          uni.__f__('log','at pages/API/get-image-info/get-image-info.uvue:96',\"getImageInfo success\", JSON.stringify(res));\r\n          this.remoteImageInfo = `图片宽度: ${res.width}\\n图片高度: ${res.height}\\n图片路径: ${res.path}\\n图片方向: ${res.orientation}\\n图片格式: ${res.type}`;\r\n        },\r\n        fail: (err) => {\r\n          uni.showModal({\r\n            title: \"获取图片信息失败\",\r\n            content: JSON.stringify(err),\r\n            showCancel: false\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .image {\r\n    align-self: center;\r\n  }\r\n\r\n  .margin-top-10 {\r\n    margin-top: 10px;\r\n  }\r\n</style>\r\n","import MiniProgramPage from 'W:/Workplace/2.小程序/lihai-app/pages/API/get-image-info/get-image-info.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni"],"mappings":";;AA+BE,MAAA,YAAeA,8BAAA;AAAA,EACb,OAAI;AACF,WAAO;AAAA,MACL,OAAO;AAAA,MACP,mBAAmB;AAAA,MACnB,mBAAmB;AAAA,MACnB,mBAAmB;AAAA,MACnB,mBAAmB;AAAA,MACnB,iBAAiB;AAAA,MACjB,iBAAiB;AAAA;AAAA,MAEjB,kBAAkB;AAAA;EAErB;AAAA,EACD,SAAS;AAAA,IACP,cAAW;AACTC,0BAAI,YAAY,IAAA,cAAA;AAAA,QACd,OAAO;AAAA,QACP,SAAS,CAAC,QAAG;AACX,eAAK,oBAAoB,IAAI,cAAc,CAAC;AAC5CA,wBAAAA,MAAI,aAAa;AAAA,YACf,KAAK,IAAI,cAAc,CAAC;AAAA,YACxB,SAAS,CAAC,SAAI;AACZA,kCAAI,MAAM,OAAM,sDAAqD,wBAAwB,SAAK,UAAU,IAAI,CAAC;AACjH,mBAAK,oBAAoB,SAAS,KAAK,KAAK;AAAA,QAAW,KAAK,MAAM;AAAA,QAAW,KAAK,IAAI;AAAA,QAAW,KAAK,WAAW;AAAA,QAAW,KAAK,IAAI;AAAA,YACtI;AAAA,YACD,MAAM,CAAC,QAAG;AACRA,kCAAI,UAAU,IAAA,cAAA;AAAA,gBACZ,OAAO;AAAA,gBACP,SAAS,IAAA,KAAK,UAAU,GAAG;AAAA,gBAC3B,YAAY;AAAA,cACb,CAAA,CAAA;AAAA,YACH;AAAA,UACD,CAAA;AAAA,QACH;AAAA,MACD,CAAA,CAAA;AAAA,IACH;AAAA,EACD;AAAA,EACD,UAAO;AACLA,kBAAAA,MAAI,aAAa;AAAA,MACf,KAAK,KAAK;AAAA,MACV,SAAS,CAAC,QAAG;AACXA,4BAAI,MAAM,OAAM,sDAAqD,wBAAwB,SAAK,UAAU,GAAG,CAAC;AAChH,aAAK,oBAAoB,SAAS,IAAI,KAAK;AAAA,QAAW,IAAI,MAAM;AAAA,QAAW,IAAI,IAAI;AAAA,QAAW,IAAI,WAAW;AAAA,QAAW,IAAI,IAAI;AAChI,aAAK,mBAAmB,IAAA,cAAA;AAAA,UACtB,SAAS,IAAI;AAAA,UACb,UAAU,IAAI;AAAA,UACd,QAAQ,IAAI,KAAK,MAAM,IAAI,KAAK,QAAQ,SAAS,IAAI,UAAU,MAAM;AAAA,UACrE,eAAe,IAAI;AAAA,UACnB,QAAQ,IAAI;AAAA,QACb,CAAA;AAAA,MACF;AAAA,MACD,MAAM,CAAC,QAAG;AACRA,4BAAI,UAAU,IAAA,cAAA;AAAA,UACZ,OAAO;AAAA,UACP,SAAS,IAAA,KAAK,UAAU,GAAG;AAAA,UAC3B,YAAY;AAAA,QACb,CAAA,CAAA;AACD,aAAK,mBAAmB;AAAA,MAC1B;AAAA,IACD,CAAA;AACDA,kBAAAA,MAAI,aAAa;AAAA,MACf,KAAK,KAAK;AAAA,MACV,SAAS,CAAC,QAAG;AACXA,4BAAI,MAAM,OAAM,sDAAqD,wBAAwB,SAAK,UAAU,GAAG,CAAC;AAChH,aAAK,kBAAkB,SAAS,IAAI,KAAK;AAAA,QAAW,IAAI,MAAM;AAAA,QAAW,IAAI,IAAI;AAAA,QAAW,IAAI,WAAW;AAAA,QAAW,IAAI,IAAI;AAAA,MAC/H;AAAA,MACD,MAAM,CAAC,QAAG;AACRA,4BAAI,UAAU,IAAA,cAAA;AAAA,UACZ,OAAO;AAAA,UACP,SAAS,IAAA,KAAK,UAAU,GAAG;AAAA,UAC3B,YAAY;AAAA,QACb,CAAA,CAAA;AAAA,MACH;AAAA,IACD,CAAA;AAAA,EACH;CACF;;;;;;;;;;;;;;;;;;;;;;;;AC1GF,GAAG,WAAW,eAAe;"}