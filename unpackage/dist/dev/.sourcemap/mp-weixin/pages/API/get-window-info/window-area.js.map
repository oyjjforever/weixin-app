{"version":3,"file":"window-area.js","sources":["pages/API/get-window-info/window-area.uvue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvQVBJL2dldC13aW5kb3ctaW5mby93aW5kb3ctYXJlYS51dnVl"],"sourcesContent":["<template>\n  <view style=\"flex:1;\">\n    <view id=\"statusBar\" class=\"statusBar\" v-if=\"statusBarArea.width > 0 && statusBarArea.height > 0\"\n      :style=\"{'width': statusBarArea.width,'height': statusBarArea.height}\">\n    </view>\n    <view id=\"cutoutArea\" class=\"cutoutArea\" v-if=\"cutoutArea.length > 0\" v-for=\"(item, _) in cutoutArea\"\n      :style=\"{'top': item.top,'left': item.left,'width': item.width,'height': item.height}\"></view>\n    <view id=\"safeArea\" class=\"safeArea\"\n      :style=\"{'top': safeArea.top,'left': safeArea.left,'width': safeArea.width,'height': safeArea.height}\"></view>\n    <view id=\"bottomNavigationIndicator\" class=\"bottomNavigationIndicator\"\n      v-if=\"bottomNavigationIndicatorArea.width > 0 && bottomNavigationIndicatorArea.height > 0\"\n      :style=\"{'width': bottomNavigationIndicatorArea.width,'height': bottomNavigationIndicatorArea.height}\"></view>\n    <view style=\"flex: 1;justify-content: center;align-items: center;\">\n      <view v-if=\"statusBarArea.width > 0 && statusBarArea.height > 0\" style=\"margin: 5px 0;\">\n        <text style=\"color: red;\">系统状态栏区域</text>\n      </view>\n      <view v-if=\"cutoutArea.length > 0\" style=\"margin: 5px 0;\">\n        <text style=\"color: orange;\">摄像头区域</text>\n      </view>\n      <view style=\"margin: 5px 0;\">\n        <text style=\"color: green;\">安全区域</text>\n      </view>\n      <view v-if=\"bottomNavigationIndicatorArea.width > 0 && bottomNavigationIndicatorArea.height > 0\"\n        style=\"margin: 5px 0;\">\n        <text style=\"color: blue;\">系统导航栏区域</text>\n      </view>\n      <!-- <view style=\"flex-direction: row;align-items: center;margin: 5px 0\">\n        <text>显示系统状态栏</text>\n        <switch :checked=\"isStatusBarShow\" @change=\"statusBarChange\"></switch>\n      </view>\n      <view style=\"flex-direction: row;align-items: center;margin: 5px 0\">\n        <text>显示系统导航栏</text>\n        <switch :checked=\"isBottomNavigationIndicatorShow\" @change=\"bottomNavigationIndicatorChange\"></switch>\n      </view> -->\n    </view>\n  </view>\n</template>\n\n<script setup lang=\"uts\">\n  type StatusBarArea = {\n    width : number,\n    height : number\n  }\n\n  type CutoutArea = {\n    top : number,\n    left : number,\n    width : number,\n    height : number\n  }\n\n  type SafeArea = {\n    top : number,\n    left : number,\n    width : number,\n    height : number\n  }\n\n  type BottomNavigationIndicatorArea = {\n    width : number,\n    height : number\n  }\n\n  const statusBarArea = ref({ width: 0, height: 0 } as StatusBarArea);\n  const cutoutArea = ref([] as CutoutArea[]);\n  const safeArea = ref({ top: 0, left: 0, width: 0, height: 0 } as SafeArea);\n  const bottomNavigationIndicatorArea = ref({ width: 0, height: 0 } as BottomNavigationIndicatorArea);\n  const isStatusBarShow = ref(false);\n  const isBottomNavigationIndicatorShow = ref(false);\n\n  const getWindowInfo = () => {\n    const info = uni.getWindowInfo();\n    statusBarArea.value.width = info.windowWidth;\n    statusBarArea.value.height = info.safeAreaInsets.top;\n    cutoutArea.value.length = 0;\n    (info.cutoutArea ?? []).forEach((item) => {\n      cutoutArea.value.push({\n        top: item.top,\n        left: item.left,\n        width: item.right - item.left,\n        height: item.bottom - item.top\n      } as CutoutArea);\n    })\n    safeArea.value.top = info.safeArea.top;\n    safeArea.value.left = info.safeArea.left;\n    safeArea.value.width = info.safeArea.width;\n    safeArea.value.height = info.safeArea.height;\n    bottomNavigationIndicatorArea.value.width = info.windowWidth;\n    bottomNavigationIndicatorArea.value.height = info.safeAreaInsets.bottom;\n  };\n\n  const statusBarChange = (e : UniSwitchChangeEvent) => {\n    const pages = getCurrentPages();\n    pages[pages.length - 1].setPageStyle({\n      'hideStatusBar': !e.detail.value,\n    });\n  };\n\n  const bottomNavigationIndicatorChange = (e : UniSwitchChangeEvent) => {\n    const pages = getCurrentPages();\n    pages[pages.length - 1].setPageStyle({\n      'hideBottomNavigationIndicator': !e.detail.value,\n    });\n  };\n\n  onReady(() => {\n    const pages = getCurrentPages();\n\n\n\n\n    getWindowInfo();\n  });\n\n  onResize((_ : OnResizeOptions) => {\n    getWindowInfo();\n  });\n</script>\n\n<style>\n  .statusBar {\n    position: absolute;\n    border-style: solid;\n    border-color: red;\n    border-width: 4px;\n  }\n\n  .cutoutArea {\n    position: absolute;\n    border-style: solid;\n    border-color: orange;\n    border-width: 4px;\n  }\n\n  .safeArea {\n    position: absolute;\n    border-style: solid;\n    border-color: green;\n    border-width: 4px;\n  }\n\n  .bottomNavigationIndicator {\n    position: absolute;\n    bottom: 0;\n    border-style: solid;\n    border-color: blue;\n    border-width: 4px;\n  }\n</style>\n","import MiniProgramPage from 'W:/Workplace/2.小程序/lihai-app/pages/API/get-window-info/window-area.uvue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","onReady","onResize","MiniProgramPage"],"mappings":";;MAuCO,sBAAa,IAAA,QAAA;AAAA;;;;;;;;;;;;;;;;;;;;MAKb,mBAAU,IAAA,QAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;MAOV,iBAAQ,IAAA,QAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;MAOR,sCAA6B,IAAA,QAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;AAKlC,UAAM,gBAAgBA,kBAAG,IAAA,cAAC,EAAE,OAAO,GAAG,QAAQ,EAAoB,CAAA;AAClE,UAAM,aAAaA,kBAAI,CAAA,CAAkB;AACzC,UAAM,WAAWA,cAAG,IAAA,IAAA,SAAC,EAAE,KAAK,GAAG,MAAM,GAAG,OAAO,GAAG,QAAQ,EAAC,CAAc,CAAA;AACzE,UAAM,gCAAgCA,kBAAG,IAAA,8BAAC,EAAE,OAAO,GAAG,QAAQ,EAAoC,CAAA;AAC1EA,kBAAAA,IAAI,KAAK;AACOA,kBAAAA,IAAI,KAAK;AAEjD,UAAM,gBAAgB,MAAA;;AACpB,YAAM,OAAOC,oBAAI;AACjB,oBAAc,MAAM,QAAQ,KAAK;AACjC,oBAAc,MAAM,SAAS,KAAK,eAAe;AACjD,iBAAW,MAAM,SAAS;AAC1B,QAAC,KAAA,KAAK,gBAAU,QAAA,OAAA,SAAA,KAAI,CAAA,GAAI,QAAQ,CAAC,SAAI;AACnC,mBAAW,MAAM,KAAK,IAAA,WAAA;AAAA,UACpB,KAAK,KAAK;AAAA,UACV,MAAM,KAAK;AAAA,UACX,OAAO,KAAK,QAAQ,KAAK;AAAA,UACzB,QAAQ,KAAK,SAAS,KAAK;AAAA,QACd,CAAA,CAAA;AAAA,MACjB,CAAC;AACD,eAAS,MAAM,MAAM,KAAK,SAAS;AACnC,eAAS,MAAM,OAAO,KAAK,SAAS;AACpC,eAAS,MAAM,QAAQ,KAAK,SAAS;AACrC,eAAS,MAAM,SAAS,KAAK,SAAS;AACtC,oCAA8B,MAAM,QAAQ,KAAK;AACjD,oCAA8B,MAAM,SAAS,KAAK,eAAe;AAAA,IACnE;AAgBAC,kBAAAA,QAAQ,MAAA;AACQ,sBAAiB;AAK/B;IACF,CAAC;AAEDC,kBAAQ,SAAC,CAAC,MAAmB;AAC3B;IACF,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnHH,GAAG,WAAWC,SAAe;"}