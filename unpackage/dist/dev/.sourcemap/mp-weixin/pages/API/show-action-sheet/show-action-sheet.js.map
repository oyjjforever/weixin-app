{"version":3,"file":"show-action-sheet.js","sources":["pages/API/show-action-sheet/show-action-sheet.uvue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvQVBJL3Nob3ctYWN0aW9uLXNoZWV0L3Nob3ctYWN0aW9uLXNoZWV0LnV2dWU"],"sourcesContent":["<template>\r\n\r\n\r\n\r\n  <view>\r\n    <page-head :title=\"title\"></page-head>\r\n    <view class=\"uni-list\">\r\n      <radio-group @change=\"radioChange\">\r\n        <radio class=\"uni-list-cell uni-list-cell-pd\" v-for=\"(item, index) in items\" :key=\"item.value\"\r\n          :class=\"index < items.length - 1 ? 'uni-list-cell-line': ''\" :value=\"item.value\" :checked=\"index === current\">\r\n          {{item.name}}\r\n        </radio>\r\n      </radio-group>\r\n    </view>\r\n    <view class=\"uni-list\">\r\n      <view class=\"uni-list-cell uni-list-cell-pd\">\r\n        <view class=\"uni-list-cell-db\">自定义 titleColor</view>\r\n        <switch :checked=\"titleColorCustom\" @change=\"titleColorChange\" />\r\n      </view>\r\n      <view class=\"uni-list-cell uni-list-cell-pd\">\r\n        <view class=\"uni-list-cell-db\">自定义 itemColor</view>\r\n        <switch :checked=\"itemColorCustom\" @change=\"itemColorChange\" />\r\n      </view>\r\n      <view class=\"uni-list-cell uni-list-cell-pd\">\r\n        <view class=\"uni-list-cell-db\">超长文本和空文本 item</view>\r\n        <switch :checked=\"itemContentLarge\" @change=\"itemContentLargeChange\" />\r\n      </view>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    </view>\r\n    <view class=\"uni-padding-wrap\">\r\n      <view class=\"uni-btn-v\">\r\n        <button class=\"uni-btn-v\" type=\"default\" @tap=\"showActionSheet\" id=\"btn-action-sheet-show\">弹出actionSheet</button>\r\n        <button class=\"uni-btn-v uni-btn\" type=\"default\" @tap=\"showActionSheetAndShowAgainInCallback\" id=\"btn-action-sheet-show\">showActionSheet 并在回调中再次 showActionSheet</button>\r\n      </view>\r\n    </view>\r\n  </view>\r\n\r\n\r\n\r\n</template>\r\n<script lang=\"uts\">\r\n  import { state, setLifeCycleNum } from '@/store/index.uts'\r\n\r\n  type ItemType = {\r\n    value : string,\r\n    name : string,\r\n  }\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'action-sheet',\r\n        titleColorCustom: false,\r\n        itemColorCustom: false,\r\n        itemContentLarge: false,\r\n        itemNumLargeSelect: false,\r\n        cancelTextCustom: false,\r\n        cancelColorCustom: false,\r\n        backgroundColorCustom: false,\r\n        showErrorToast: true,\r\n        items: [{\r\n          value: '标题',\r\n          name: '有标题'\r\n        },\r\n        {\r\n          value: '',\r\n          name: '无标题'\r\n        },\r\n        {\r\n          value: '超长标题测试内容，测试超过显示最大范围之后的样式-超长标题测试内容，测试超过显示最大范围之后的样式',\r\n          name: '超长标题'\r\n        }\r\n        ] as ItemType[],\r\n        current: 0,\r\n\r\n\r\n\r\n      }\r\n    },\r\n    onLoad() {\r\n      uni.showActionSheet({\r\n        title: \"onLoad 调用示例,请手动取消\",\r\n        itemList: ['item1', 'item2'],\r\n        fail: (res) => {\r\n          // 自动化测试\r\n          setLifeCycleNum(state.lifeCycleNum + 1)\r\n          uni.__f__('log','at pages/API/show-action-sheet/show-action-sheet.uvue:103','onLoad showActionSheet fail', res)\r\n        },\r\n        complete: (res) => {\r\n          // 自动化测试\r\n          setLifeCycleNum(state.lifeCycleNum + 1)\r\n          uni.__f__('log','at pages/API/show-action-sheet/show-action-sheet.uvue:108','onLoad showActionSheet complete', res)\r\n        }\r\n      })\r\n\r\n\r\n\r\n    },\r\n    methods: {\r\n      //自动化测试例专用\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n      radioChange(e : UniRadioGroupChangeEvent) {\r\n        for (let i = 0; i < this.items.length; i++) {\r\n          if (this.items[i].value === e.detail.value) {\r\n            this.current = i;\r\n            break;\r\n          }\r\n        }\r\n      },\r\n      titleColorChange(e : UniSwitchChangeEvent) {\r\n        this.titleColorCustom = e.detail.value\r\n      },\r\n      itemContentLargeChange: function (e : UniSwitchChangeEvent) {\r\n        this.itemContentLarge = e.detail.value\r\n      },\r\n      itemColorChange: function (e : UniSwitchChangeEvent) {\r\n        this.itemColorCustom = e.detail.value\r\n      },\r\n      itemNumLargeChange: function (e : UniSwitchChangeEvent) {\r\n        this.itemNumLargeSelect = e.detail.value\r\n      },\r\n      cancelTextChange: function (e : UniSwitchChangeEvent) {\r\n        this.cancelTextCustom = e.detail.value\r\n      },\r\n      cancelColorChange: function (e : UniSwitchChangeEvent) {\r\n        this.cancelColorCustom = e.detail.value\r\n      },\r\n      backgroundColorChange: function (e : UniSwitchChangeEvent) {\r\n        this.backgroundColorCustom = e.detail.value\r\n      },\r\n      showActionSheet() {\r\n        const options: ShowActionSheetOptions = {\r\n          title: this.items[this.current].value,\r\n          itemList: ['item1', 'item2', 'item3', 'item4'],\r\n          success: (res) => {\r\n            uni.__f__('log','at pages/API/show-action-sheet/show-action-sheet.uvue:166',res.tapIndex);\r\n            uni.showToast({\r\n              title: \"点击了第\" + res.tapIndex + \"个选项\",\r\n              icon: \"none\"\r\n            })\r\n          },\r\n          fail: (error) => {\r\n            if (this.showErrorToast) {\r\n              uni.showToast({\r\n                title: error.errMsg,\r\n                icon: \"none\"\r\n              })\r\n            }\r\n            uni.__f__('log','at pages/API/show-action-sheet/show-action-sheet.uvue:179',error);\r\n          }\r\n        }\r\n        if (this.itemContentLarge) {\r\n          options.itemList = ['两个黄鹂鸣翠柳，一行白鹭上青天。窗含西岭千秋雪，门泊东吴万里船', '水光潋滟晴方好,山色空蒙雨亦奇。 欲把西湖比西子,淡妆浓抹总相宜', '']\r\n        }\r\n        if (this.itemNumLargeSelect) {\r\n          // 大量选项测试,不能超过6个元素 https://uniapp.dcloud.net.cn/api/ui/prompt.html#showactionsheet\r\n          const arr: string[] = []\r\n          for(let i = 0; i < 10; i++){\r\n            arr.push(`两个黄鹂鸣翠柳，一行白鹭上青天 ${i+1}`)\r\n          }\r\n          options.itemList = arr\r\n        }\r\n        if(this.titleColorCustom){\r\n          options.titleColor = '#007AFF'\r\n        }\r\n        if(this.itemColorCustom){\r\n          options.itemColor = '#ff00ff'\r\n        }\r\n        if(this.cancelTextCustom){\r\n          options.cancelText = 'custom cancel'\r\n        }\r\n        if(this.cancelColorCustom){\r\n          options.cancelColor = '#007AFF'\r\n        }\r\n        if(this.backgroundColorCustom){\r\n          options.backgroundColor = '#ccc'\r\n        }\r\n        uni.showActionSheet(options)\r\n      },\r\n      showActionSheetAndShowAgainInCallback(){\r\n        uni.showActionSheet({\r\n          title: '第一个',\r\n          itemList: ['1','2','3'],\r\n          complete(){\r\n              uni.showActionSheet({\r\n                title: '第二个',\r\n                itemList: ['a','b','c'],\r\n                complete: (res) => {\r\n                  uni.__f__('log','at pages/API/show-action-sheet/show-action-sheet.uvue:219','showActionSheetAndShowAgainInCallback complete', res)\r\n                }\r\n              })\r\n          }\r\n        })\r\n      },\r\n      // 自动化测试\r\n      getLifeCycleNum(){\r\n        return state.lifeCycleNum\r\n      },\r\n      // 自动化测试\r\n\r\n\r\n\r\n\r\n\r\n      // 自动化测试\r\n      hideActionSheet(){\r\n        uni.hideActionSheet()\r\n      }\r\n    }\r\n  }\r\n</script>\r\n","import MiniProgramPage from 'W:/Workplace/2.小程序/lihai-app/pages/API/show-action-sheet/show-action-sheet.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni","setLifeCycleNum","state"],"mappings":"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"}