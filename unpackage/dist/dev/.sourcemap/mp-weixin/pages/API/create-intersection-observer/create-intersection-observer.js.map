{"version":3,"file":"create-intersection-observer.js","sources":["pages/API/create-intersection-observer/create-intersection-observer.uvue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvQVBJL2NyZWF0ZS1pbnRlcnNlY3Rpb24tb2JzZXJ2ZXIvY3JlYXRlLWludGVyc2VjdGlvbi1vYnNlcnZlci51dnVl"],"sourcesContent":["<template>\n\t<view>\n\t\t<page-head :title=\"title\"></page-head>\n\t\t<view class=\"uni-padding-wrap uni-common-mt\">\n\t\t\t<view class=\"uni-title uni-common-mt\">\n\t\t\t\t{{appear ? '小球出现' : '小球消失'}}\n\t\t\t</view>\n\t\t\t<scroll-view class=\"scroll-view\" scroll-y :scrollTop=\"scrollTop\">\n\t\t\t\t<view class=\"scroll-area\">\n\t\t\t\t\t<text class=\"notice\">向下滚动让小球出现</text>\n\t\t\t\t\t<view class=\"ball\"></view>\n\t\t\t\t</view>\n\t\t\t</scroll-view>\n\t\t</view>\n\t</view>\n</template>\n<script lang=\"uts\">\n  let observer: IntersectionObserver | null = null;\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tappear: false,\n\t\t\t\ttitle:'intersectionObserver',\n\t\t\t\t// 自动化测试\n\t\t\t\ttestRes: null as ObserveResult | null,\n\t\t\t\tscrollTop:0\n\t\t\t}\n\t\t},\n\t\tonReady() {\n\t\t\tobserver = uni.createIntersectionObserver(this,{});\n\t\t\tobserver.relativeTo('.scroll-view').observe('.ball', (res:ObserveResult) => {\n\t\t\t\tthis.testRes = res;\n\t\t\t\tif (res.intersectionRatio > 0 && !this.appear) {\n\t\t\t\t\tthis.appear = true;\n\t\t\t\t} else if (res.intersectionRatio <= 0 && this.appear) {\n\t\t\t\t\tthis.appear = false;\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tonUnload() {\n\t\t\tif (observer) {\n\t\t\t\tobserver.disconnect()\n\t\t\t}\n\t\t}\n\t}\n</script>\n<style>\n\t.scroll-view {\n\t\theight: 200px;\n\t\tbackground: #fff;\n\t\tborder: 1px solid #ccc;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.scroll-area {\n\t\theight: 650px;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t}\n\n\t.notice {\n\t\tmargin-top: 75px;\n\t\tmargin:75px 0 200px 0;\n\t}\n\n\t.ball {\n\t\twidth: 100px;\n\t\theight: 100px;\n\t\tbackground: #4cd964;\n\t\tborder-radius: 100px;\n\t}\n</style>\n","import MiniProgramPage from 'W:/Workplace/2.小程序/lihai-app/pages/API/create-intersection-observer/create-intersection-observer.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni"],"mappings":";;AAiBE,IAAI,WAAwC;AAC7C,MAAA,YAAeA,8BAAA;AAAA,EACd,OAAI;AACH,WAAO;AAAA,MACN,QAAQ;AAAA,MACR,OAAM;AAAA;AAAA,MAEN,SAAS;AAAA,MACT,WAAU;AAAA;EAEX;AAAA,EACD,UAAO;AACN,eAAWC,cAAAA,MAAI,2BAA2B,MAAK,CAAE,CAAA;AACjD,aAAS,WAAW,cAAc,EAAE,QAAQ,SAAS,CAAC,QAAiB;AACtE,WAAK,UAAU;AACf,UAAI,IAAI,oBAAoB,KAAK,CAAC,KAAK,QAAQ;AAC9C,aAAK,SAAS;AAAA,MACb,WAAS,IAAI,qBAAqB,KAAK,KAAK,QAAQ;AACrD,aAAK,SAAS;AAAA,MACf;AAAA,IACD,CAAC;AAAA,EACD;AAAA,EACD,WAAQ;AACP,QAAI,UAAU;AACb,eAAS,WAAU;AAAA,IACpB;AAAA,EACD;CACD;;;;;;;;;;;;;;;;;;;;AC3CD,GAAG,WAAW,eAAe;"}