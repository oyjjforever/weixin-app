{"version":3,"file":"choose-video.js","sources":["pages/API/choose-video/choose-video.uvue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvQVBJL2Nob29zZS12aWRlby9jaG9vc2UtdmlkZW8udXZ1ZQ"],"sourcesContent":["<template>\r\n\r\n\r\n\r\n    <page-head :title=\"title\"></page-head>\r\n    <view class=\"uni-padding-wrap\">\r\n      <video class=\"video\" :src=\"src\" :controls=\"true\" :poster=\"videoCoverImage\"></video>\r\n      <view class=\"uni-title\">\r\n        <text class=\"uni-subtitle-text\">视频信息</text>\r\n      </view>\r\n      <text>{{videoInfo}}</text>\r\n      <view class=\"uni-btn-v\">\r\n        <button type=\"primary\" @click=\"chooseVideo\">选取视频</button>\r\n      </view>\r\n      <enum-data title=\"视频来源\" :items=\"sourceTypeItemTypes\" @change=\"onSourceTypeChange\"></enum-data>\r\n\r\n\r\n\r\n      <enum-data title=\"摄像头\" :items=\"cameraItemTypes\" @change=\"onCameraChange\"></enum-data>\r\n\r\n\r\n\r\n    </view>\r\n    <input-data title=\"最长拍摄时间，单位秒\" defaultValue=\"60\" type=\"number\" @confirm=\"onMaxDurationConfirm\"></input-data>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n  import { ItemType } from '@/components/enum-data/enum-data-types';\r\n  type Camera = \"back\" | \"front\"\r\n  type Source = \"album\" | \"camera\"\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: \"chooseVideo\",\r\n        src: \"\",\r\n        orientationTypeItemTypes: [{ \"value\": 0, \"name\": \"竖屏\" }, { \"value\": 1, \"name\": \"横屏\" }, { \"value\": 2, \"name\": \"自动\" }] as ItemType[],\r\n        sourceTypeItemTypes: [{ \"value\": 0, \"name\": \"从相册中选择视频\" }, { \"value\": 1, \"name\": \"拍摄视频\" }, { \"value\": 2, \"name\": \"从相册中选择视频或拍摄视频\" }] as ItemType[],\r\n        sourceTypeItems: [[\"album\"], [\"camera\"], [\"album\", \"camera\"]] as Source[][],\r\n        cameraItemTypes: [{ \"value\": 0, \"name\": \"后置摄像头\" }, { \"value\": 1, \"name\": \"前置摄像头\" }] as ItemType[],\r\n        albumModeTypes: [{ \"value\": 0, \"name\": \"自定义视频选择器\" }, { \"value\": 1, \"name\": \"系统视频选择器\" }] as ItemType[],\r\n        albumModeTypeItems: [\"custom\", \"system\"],\r\n        cameraItems: [\"back\", \"front\"] as Camera[],\r\n        sourceType: [\"album\", \"camera\"] as Source[],\r\n        orientationType: \"portrait\",\r\n        orientationTypeItems: [\"portrait\", \"landscape\", \"auto\"],\r\n        compressed: true,\r\n        maxDuration: 60,\r\n        camera: \"back\" as Camera,\r\n        videoInfo: \"\",\r\n        videoCoverImage: \"\",\r\n        albumMode: \"custom\"\r\n      }\r\n    },\r\n    onHide() {\r\n      uni.__f__('log','at pages/API/choose-video/choose-video.uvue:63',\"Page Hide\");\r\n    },\r\n    methods: {\r\n      chooseVideo() {\r\n        uni.chooseVideo({\r\n          sourceType: this.sourceType,\r\n\r\n\r\n\r\n\r\n          maxDuration: this.maxDuration,\r\n\r\n\r\n\r\n          camera: this.camera,\r\n          success: (res) => {\r\n            uni.__f__('log','at pages/API/choose-video/choose-video.uvue:79',\"chooseVideo success\", JSON.stringify(res));\r\n            this.src = res.tempFilePath;\r\n            this.videoInfo = `视频长度: ${res.duration}s\\n视频大小: ${Math.ceil(res.size)}KB\\n视频宽度: ${res.width}\\n视频高度: ${res.height}\\n`;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n          },\r\n          fail: (err) => {\r\n            uni.showModal({\r\n              title: \"选择视频失败\",\r\n              content: JSON.stringify(err),\r\n              showCancel: false\r\n            });\r\n          }\r\n        });\r\n      },\r\n      onOrientationTypeChange(value : number) {\r\n        this.orientationType = this.orientationTypeItems[value];\r\n      },\r\n      onSourceTypeChange(value : number) {\r\n        this.sourceType = this.sourceTypeItems[value];\r\n      },\r\n      onCompressedChange(value : boolean) {\r\n        this.compressed = value;\r\n      },\r\n      onMaxDurationConfirm(value : number) {\r\n        this.maxDuration = value;\r\n      },\r\n      onCameraChange(value : number) {\r\n        this.camera = this.cameraItems[value];\r\n      },\r\n      onAlbumModeChange(value : number) {\r\n        this.albumMode = this.albumModeTypeItems[value]\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .video {\r\n    align-self: center;\r\n    width: 300px;\r\n    height: 225px;\r\n  }\r\n</style>\r\n","import MiniProgramPage from 'W:/Workplace/2.小程序/lihai-app/pages/API/choose-video/choose-video.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","ItemType","uni"],"mappings":";;;AAsCE,MAAA,YAAeA,8BAAA;AAAA,EACb,OAAI;AACF,WAAO;AAAA,MACL,OAAO;AAAA,MACP,KAAK;AAAA,MACL,0BAA0B,CAAA,IAAAC,2CAAC,EAAE,SAAS,GAAG,QAAQ,KAAM,CAAA,GAAA,IAAAA,kCAAAA,SAAE,EAAE,SAAS,GAAG,QAAQ,MAAM,kDAAE,EAAE,SAAS,GAAG,QAAQ,KAAK,CAAC,CAAe;AAAA,MAClI,qBAAqB,CAAA,IAAAA,2CAAC,EAAE,SAAS,GAAG,QAAQ,WAAY,CAAA,GAAA,IAAAA,kCAAAA,SAAE,EAAE,SAAS,GAAG,QAAQ,QAAQ,kDAAE,EAAE,SAAS,GAAG,QAAQ,gBAAgB,CAAC,CAAe;AAAA,MAChJ,iBAAiB,CAAC,CAAC,OAAO,GAAG,CAAC,QAAQ,GAAG,CAAC,SAAS,QAAQ,CAAC;AAAA,MAC5D,iBAAiB,gDAAC,EAAE,SAAS,GAAG,QAAQ,QAAQ,CAAC,GAAE,IAAAA,kCAAAA,SAAA,EAAE,SAAS,GAAG,QAAQ,QAAQ,CAAC,CAAe;AAAA,MACjG,gBAAgB,gDAAC,EAAE,SAAS,GAAG,QAAQ,WAAW,CAAC,GAAE,IAAAA,kCAAAA,SAAA,EAAE,SAAS,GAAG,QAAQ,UAAQ,CAAG,CAAe;AAAA,MACrG,oBAAoB,CAAC,UAAU,QAAQ;AAAA,MACvC,aAAa,CAAC,QAAQ,OAAO;AAAA,MAC7B,YAAY,CAAC,SAAS,QAAQ;AAAA,MAC9B,iBAAiB;AAAA,MACjB,sBAAsB,CAAC,YAAY,aAAa,MAAM;AAAA,MACtD,YAAY;AAAA,MACZ,aAAa;AAAA,MACb,QAAQ;AAAA,MACR,WAAW;AAAA,MACX,iBAAiB;AAAA,MACjB,WAAW;AAAA;EAEd;AAAA,EACD,SAAM;AACJC,kBAAAA,MAAI,MAAM,OAAM,kDAAiD,WAAW;AAAA,EAC7E;AAAA,EACD,SAAS;AAAA,IACP,cAAW;AACTA,0BAAI,YAAY,IAAA,cAAA;AAAA,QACd,YAAY,KAAK;AAAA,QAKjB,aAAa,KAAK;AAAA,QAIlB,QAAQ,KAAK;AAAA,QACb,SAAS,CAAC,QAAG;AACXA,8BAAI,MAAM,OAAM,kDAAiD,uBAAuB,SAAK,UAAU,GAAG,CAAC;AAC3G,eAAK,MAAM,IAAI;AACf,eAAK,YAAY,SAAS,IAAI,QAAQ;AAAA,QAAY,KAAK,KAAK,IAAI,IAAI,CAAC;AAAA,QAAa,IAAI,KAAK;AAAA,QAAW,IAAI,MAAM;AAAA;AAAA,QAWjH;AAAA,QACD,MAAM,CAAC,QAAG;AACRA,8BAAI,UAAU,IAAA,cAAA;AAAA,YACZ,OAAO;AAAA,YACP,SAAS,IAAA,KAAK,UAAU,GAAG;AAAA,YAC3B,YAAY;AAAA,UACb,CAAA,CAAA;AAAA,QACH;AAAA,MACD,CAAA,CAAA;AAAA,IACF;AAAA,IACD,wBAAwB,OAAc;AACpC,WAAK,kBAAkB,KAAK,qBAAqB,KAAK;AAAA,IACvD;AAAA,IACD,mBAAmB,OAAc;AAC/B,WAAK,aAAa,KAAK,gBAAgB,KAAK;AAAA,IAC7C;AAAA,IACD,mBAAmB,OAAe;AAChC,WAAK,aAAa;AAAA,IACnB;AAAA,IACD,qBAAqB,OAAc;AACjC,WAAK,cAAc;AAAA,IACpB;AAAA,IACD,eAAe,OAAc;AAC3B,WAAK,SAAS,KAAK,YAAY,KAAK;AAAA,IACrC;AAAA,IACD,kBAAkB,OAAc;AAC9B,WAAK,YAAY,KAAK,mBAAmB,KAAK;AAAA,IAChD;AAAA,EACF;CACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvHF,GAAG,WAAW,eAAe;"}