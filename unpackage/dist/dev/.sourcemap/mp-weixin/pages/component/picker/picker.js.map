{"version":3,"file":"picker.js","sources":["pages/component/picker/picker.uvue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY29tcG9uZW50L3BpY2tlci9waWNrZXIudXZ1ZQ"],"sourcesContent":["<template>\r\n\r\n\r\n\r\n    <page-head :title=\"title\"></page-head>\r\n    <text class=\"uni-title uni-common-pl\">禁用选择器</text>\r\n    <view class=\"uni-list\">\r\n      <view class=\"uni-list-cell\">\r\n        <view class=\"uni-list-cell-left\">当前选择</view>\r\n        <view class=\"uni-list-cell-db\">\r\n          <picker class=\"picker-disabled--test\" @change=\"bindPickerChange\" disabled :value=\"index\" :range=\"selectorArray\" range-key=\"name\">\r\n            <view class=\"uni-input picker-disabled--value\">{{selectorArray[index].name}}</view>\r\n          </picker>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    <text class=\"uni-picker-tips\">注：值与普通选择器同步，但不可选择</text>\r\n    <text class=\"uni-title uni-common-pl\">普通选择器</text>\r\n    <view class=\"uni-list\">\r\n      <view class=\"uni-list-cell\">\r\n        <view class=\"uni-list-cell-left\">当前选择</view>\r\n        <view class=\"uni-list-cell-db\">\r\n          <picker class=\"picker-selector--test\" @change=\"bindPickerChange\" :value=\"index\" :range=\"selectorArray\" range-key=\"name\">\r\n            <view class=\"uni-input picker-selector--value\">{{selectorArray[index].name}}</view>\r\n          </picker>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <text class=\"uni-title uni-common-pl\">多列选择器</text>\r\n    <view class=\"uni-list\">\r\n      <view class=\"uni-list-cell\">\r\n        <text class=\"uni-list-cell-left\">当前选择</text>\r\n        <view class=\"uni-list-cell-db\">\r\n          <picker class=\"picker-multi--test\" mode=\"multiSelector\" @columnchange=\"bindMultiPickerColumnChange\" :value=\"multiIndex\" :range=\"multiArray\">\r\n            <view class=\"uni-input picker-multi--value\">\r\n              {{multiArray[0][multiIndex[0]]}}，{{multiArray[1][multiIndex[1]]}}，{{multiArray[2][multiIndex[2]]}}\r\n            </view>\r\n          </picker>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <text class=\"uni-title uni-common-pl\">时间选择器</text>\r\n    <view class=\"uni-list\">\r\n      <view class=\"uni-list-cell\">\r\n        <view class=\"uni-list-cell-left\">当前选择</view>\r\n        <view class=\"uni-list-cell-db\">\r\n          <picker class=\"picker-time--test\" mode=\"time\" :value=\"time\" start=\"09:01\" end=\"21:01\" @change=\"bindTimeChange\">\r\n            <view class=\"uni-input\">{{time}}</view>\r\n          </picker>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    <text class=\"uni-picker-tips\">注：选择 09:01 ~ 21:01 之间的时间, 不在区间内不能选中</text>\r\n\r\n    <text class=\"uni-title uni-common-pl\">日期选择器 fields = day</text>\r\n    <view class=\"uni-list\">\r\n      <view class=\"uni-list-cell\">\r\n        <text class=\"uni-list-cell-left\">当前选择 </text>\r\n        <view class=\"uni-list-cell-db\">\r\n          <picker class=\"picker-date-day--test\" mode=\"date\" :value=\"dayDate\" :start=\"startDate\" :end=\"endDate\" @change=\"bindDayDateChange\">\r\n            <view class=\"uni-input\">{{dayDate}}</view>\r\n          </picker>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    <text class=\"uni-picker-tips\">注：选择当前时间 ±10 年之间的时间, 不在区间内不能选中</text>\r\n\r\n    <text class=\"uni-title uni-common-pl\">日期选择器 fields = month</text>\r\n    <view class=\"uni-list\">\r\n      <view class=\"uni-list-cell\">\r\n        <text class=\"uni-list-cell-left\">当前选择 </text>\r\n        <view class=\"uni-list-cell-db\">\r\n          <picker class=\"picker-date-month--test\" mode=\"date\" fields=\"month\" :value=\"monthDate\" :start=\"startDate\" :end=\"endDate\" @change=\"bindMonthDateChange\">\r\n            <view class=\"uni-input\">{{monthDate}}</view>\r\n          </picker>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    <text class=\"uni-picker-tips\">注：选择当前时间 ±10 年之间的时间, 不在区间内不能选中，且日不可选</text>\r\n\r\n    <text class=\"uni-title uni-common-pl\">日期选择器 fields = year</text>\r\n    <view class=\"uni-list\">\r\n      <view class=\"uni-list-cell\">\r\n        <text class=\"uni-list-cell-left\">当前选择 </text>\r\n        <view class=\"uni-list-cell-db\">\r\n          <picker class=\"picker-date-year--test\" mode=\"date\" fields=\"year\" :value=\"yearDate\" :start=\"startDate\" :end=\"endDate\" @change=\"bindYearDateChange\">\r\n            <view class=\"uni-input\">{{yearDate}}</view>\r\n          </picker>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    <text class=\"uni-picker-tips\">注：选择当前时间 ±10 年之间的时间, 不在区间内不能选中，且只能选择年</text>\r\n\r\n\r\n\r\n\r\n</template>\r\n<script lang=\"uts\">\r\n  import { state, setEventCallbackNum } from '@/store/index.uts'\r\n  type DataType = {\r\n    name : string\r\n  }\r\n  function getDate(date_text : string = 'day', type ?: string) : string {\r\n    const date = new Date();\r\n\r\n    let year : string | number = date.getFullYear();\r\n    let month : string | number = date.getMonth() + 1;\r\n    let day : string | number = date.getDate();\r\n\r\n    if (type == 'start') {\r\n      year = year - 10;\r\n    } else if (type == 'end') {\r\n      year = year + 10;\r\n    }\r\n    month = month > 9 ? month : '0' + month;;\r\n    day = day > 9 ? day : '0' + day;\r\n    if (date_text == 'month') {\r\n      return `${year}-${month}`;\r\n    } else if (date_text == 'year') {\r\n      return `${year}`;\r\n    }\r\n    return `${year}-${month}-${day}`;\r\n  }\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'picker',\r\n        selectorArray: [{ name: '中国' }, { name: '美国' }, { name: '巴西' }, { name: '日本' }] as DataType[],\r\n        index: 0,\r\n        multiArray: [\r\n          ['亚洲', '欧洲'],\r\n          ['中国', '日本'],\r\n          ['北京', '上海', '广州']\r\n        ] as Array<string[]>,\r\n        multiIndex: [0, 0, 0] as number[],\r\n        dayDate: getDate('day'),\r\n        monthDate: getDate('month'),\r\n        yearDate: getDate('year'),\r\n        startDate: getDate('day', 'start'),\r\n        endDate: getDate('day', 'end'),\r\n        time: '12:01'\r\n      }\r\n    },\r\n    methods: {\r\n      bindPickerChange: function (e : UniPickerChangeEvent) {\r\n        uni.__f__('log','at pages/component/picker/picker.uvue:148','picker发送选择改变，携带值为：' + e.detail.value)\r\n        this.index = e.detail.value\r\n      },\r\n      bindMultiPickerColumnChange: function (e : UniPickerColumnChangeEvent) {\r\n        uni.__f__('log','at pages/component/picker/picker.uvue:152','修改的列为：' + e.detail.column + '，值为：' + e.detail.value)\r\n        this.multiIndex[e.detail.column] = e.detail.value\r\n        switch (e.detail.column) {\r\n          case 0: //拖动第1列\r\n            switch (this.multiIndex[0]) {\r\n              case 0:\r\n                this.multiArray[1] = ['中国', '日本']\r\n                this.multiArray[2] = ['北京', '上海', '广州']\r\n                break\r\n              case 1:\r\n                this.multiArray[1] = ['英国', '法国']\r\n                this.multiArray[2] = ['伦敦', '曼彻斯特']\r\n                break\r\n            }\r\n            this.multiIndex.splice(1, 1, 0)\r\n            this.multiIndex.splice(2, 1, 0)\r\n            break\r\n          case 1: //拖动第2列\r\n            switch (this.multiIndex[0]) { //判断第一列是什么\r\n              case 0:\r\n                switch (this.multiIndex[1]) {\r\n                  case 0:\r\n                    this.multiArray[2] = ['北京', '上海', '广州']\r\n                    break\r\n                  case 1:\r\n                    this.multiArray[2] = ['东京', '北海道']\r\n                    break\r\n                }\r\n                break\r\n              case 1:\r\n                switch (this.multiIndex[1]) {\r\n                  case 0:\r\n                    this.multiArray[2] = ['伦敦', '曼彻斯特']\r\n                    break\r\n                  case 1:\r\n                    this.multiArray[2] = ['巴黎', '马赛']\r\n                    break\r\n                }\r\n                break\r\n            }\r\n            this.multiIndex.splice(2, 1, 0)\r\n            break\r\n        }\r\n        this.$forceUpdate()\r\n      },\r\n      bindDayDateChange: function (e : UniPickerChangeEvent) {\r\n        this.dayDate = e.detail.value as string\r\n      },\r\n      bindMonthDateChange: function (e : UniPickerChangeEvent) {\r\n        this.monthDate = e.detail.value as string\r\n      },\r\n      bindYearDateChange: function (e : UniPickerChangeEvent) {\r\n        this.yearDate = e.detail.value as string\r\n      },\r\n      bindTimeChange: function (e : UniPickerChangeEvent) {\r\n        this.time = e.detail.value as string\r\n      },\r\n\r\n      // 自动化函数\r\n      setSelectorValue(){\r\n        this.index = 2\r\n      },\r\n      getEventCallbackNum() : number {\r\n        return state.eventCallbackNum\r\n      },\r\n      // 自动化测试\r\n      setEventCallbackNum(num : number) {\r\n        setEventCallbackNum(num)\r\n      },\r\n\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .uni-title {\r\n    font-size: 14px;\r\n  }\r\n\r\n  .uni-picker-tips {\r\n    font-size: 12px;\r\n    color: #666;\r\n    margin-top: 5px;\r\n    margin-bottom: 15px;\r\n    padding: 0 15px;\r\n  }\r\n</style>\r\n","import MiniProgramPage from 'W:/Workplace/2.小程序/lihai-app/pages/component/picker/picker.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni","state","setEventCallbackNum"],"mappings":"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"}