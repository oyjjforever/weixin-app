{"version":3,"file":"rich-text.js","sources":["pages/component/rich-text/rich-text.uvue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY29tcG9uZW50L3JpY2gtdGV4dC9yaWNoLXRleHQudXZ1ZQ"],"sourcesContent":["<template>\r\n  <view>\r\n    <page-head title=\"rich-text\"></page-head>\r\n    <view class=\"uni-padding-wrap uni-common-mt\">\r\n      <view class=\"uni-btn-v\">\r\n        <navigator url=\"/pages/component/rich-text/rich-text-tags\">\r\n          <button type=\"primary\">rich-text渲染单个HTML标签示例</button>\r\n        </navigator>\r\n      </view>\r\n      <view class=\"uni-btn-v\">\r\n        <navigator url=\"/pages/component/rich-text/rich-text-complex\">\r\n          <button type=\"primary\">rich-text渲染复杂HTML示例</button>\r\n        </navigator>\r\n      </view>\r\n      <view class=\"uni-title\">\r\n        <button type=\"default\" @click=\"changeText\">修改文本内容</button>\r\n      </view>\r\n      <view class=\"text-box\" id=\"rich-text-parent\" @click=\"richTextParentClick\">\r\n        <rich-text id=\"richtext\" style=\"border: 1px; border-style: solid; border-color: red;\" :nodes=\"text\"></rich-text>\r\n        <view>\r\n          <text>rich-text-parent</text>\r\n          <text id='rich-text-str'>{{richTextStr}}</text>\r\n        </view>\r\n      </view>\r\n      <view class=\"uni-title\">\r\n        <text class=\"uni-subtitle-text\">selectable</text>\r\n      </view>\r\n      <view class=\"text-box2\">\r\n        <rich-text style=\"height: 80px;\" :selectable=\"true\"\r\n          :nodes=\"text\"></rich-text>\r\n      </view>\r\n    </view>\r\n  </view>\r\n  <rich-text v-if=\"autoTest\" id=\"test-rich-text\" :nodes=\"testNodes\" :selectable=\"true\" @itemclick=\"itemClickForTest\" style=\"position: fixed;width: 100px;height: 100px;\"></rich-text>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n  export default {\r\n    data() {\r\n      return {\r\n        text: \"<span>hello uni-app x!</span><br/><span>uni-app x，终极跨平台方案</span>\",\r\n        richTextHeight: 0,\r\n        richTextElement: null as UniElement | null,\r\n        // 自动化测试\r\n        autoTest: false,\r\n        testNodes: '<img src=\"https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/uni@2x.png\"></img>',\r\n        isItemClickTrigger: false,\r\n        richTextStr: false\r\n      }\r\n    },\r\n    onReady() {\r\n      this.richTextElement = uni.getElementById('richtext') as UniElement\r\n      setTimeout(() => {\r\n        this.updateRichTextHeight()\r\n      }, 2500)\r\n    },\r\n    methods: {\r\n      changeText() {\r\n        if (this.text === \"<span>hello uni-app x!</span><br/><span>uni-app x，终极跨平台方案</span>\") {\r\n          this.text = \"<h1>hello uni-app x!</h1><br/><h2>uni-app x，终极跨平台方案</h2>\"\r\n        } else {\r\n          this.text = \"<span>hello uni-app x!</span><br/><span>uni-app x，终极跨平台方案</span>\"\r\n        }\r\n        setTimeout(() => {\r\n          this.updateRichTextHeight()\r\n        }, 200)\r\n      },\r\n      updateRichTextHeight() {\r\n        if (this.richTextElement != null) {\r\n          this.richTextElement!.getBoundingClientRectAsync()!.then((elRect: DOMRect) => {\r\n            this.richTextHeight = elRect.height\r\n            uni.__f__('log','at pages/component/rich-text/rich-text.uvue:72','richTextHeight:', this.richTextHeight)\r\n          })\r\n        }\r\n      },\r\n      // 自动化测试\r\n      itemClickForTest(_ : UniRichTextItemClickEvent) {\r\n        this.isItemClickTrigger = true;\r\n      },\r\n      getBoundingClientRectForTest() : DOMRect {\r\n        return uni.getElementById('test-rich-text')?.getBoundingClientRect()!;\r\n      },\r\n      richTextParentClick() {\r\n        this.richTextStr = true;\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .text-box {\r\n    padding: 20px 0;\r\n    background-color: white;\r\n  }\r\n\r\n  .text-box2 {\r\n    top: 20px;\r\n    background-color: white;\r\n  }\r\n\r\n</style>\r\n","import MiniProgramPage from 'W:/Workplace/2.小程序/lihai-app/pages/component/rich-text/rich-text.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni"],"mappings":";;AAqCE,MAAA,YAAeA,8BAAA;AAAA,EACb,OAAI;AACF,WAAO;AAAA,MACL,MAAM;AAAA,MACN,gBAAgB;AAAA,MAChB,iBAAiB;AAAA;AAAA,MAEjB,UAAU;AAAA,MACV,WAAW;AAAA,MACX,oBAAoB;AAAA,MACpB,aAAa;AAAA;EAEhB;AAAA,EACD,UAAO;AACL,SAAK,kBAAkBC,cAAAA,MAAI,eAAe,UAAU;AACpD,eAAW,MAAA;AACT,WAAK,qBAAoB;AAAA,IAC1B,GAAE,IAAI;AAAA,EACR;AAAA,EACD,SAAS;AAAA,IACP,aAAU;AACR,UAAI,KAAK,SAAS,oEAAoE;AACpF,aAAK,OAAO;AAAA,MACZ,OAAK;AACL,aAAK,OAAO;AAAA,MACd;AACA,iBAAW,MAAA;AACT,aAAK,qBAAoB;AAAA,MAC1B,GAAE,GAAG;AAAA,IACP;AAAA,IACD,uBAAoB;AAClB,UAAI,KAAK,mBAAmB,MAAM;AAChC,aAAK,gBAAiB,2BAA6B,EAAC,KAAK,CAAC,WAAe;AACvE,eAAK,iBAAiB,OAAO;AAC7BA,wBAAG,MAAC,MAAM,OAAM,kDAAiD,mBAAmB,KAAK,cAAc;AAAA,QACzG,CAAC;AAAA,MACH;AAAA,IACD;AAAA;AAAA,IAED,iBAAiB,GAA6B;AAC5C,WAAK,qBAAqB;AAAA,IAC3B;AAAA,IACD,+BAA4B;;AAC1B,cAAO,KAAAA,cAAAA,MAAI,eAAe,gBAAgB,OAAG,QAAA,OAAA,SAAA,OAAA,GAAA,sBAAqB;AAAA,IACnE;AAAA,IACD,sBAAmB;AACjB,WAAK,cAAc;AAAA,IACrB;AAAA,EACF;CACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrFF,GAAG,WAAW,eAAe;"}