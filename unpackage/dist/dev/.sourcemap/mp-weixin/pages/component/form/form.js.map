{"version":3,"file":"form.js","sources":["pages/component/form/form.uvue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY29tcG9uZW50L2Zvcm0vZm9ybS51dnVl"],"sourcesContent":["<template>\r\n\r\n\r\n\r\n    <view class=\"page\">\r\n      <form @submit=\"onFormSubmit\" @reset=\"onFormReset\">\r\n        <view class=\"uni-form-item\">\r\n          <text class=\"title\">姓名</text>\r\n          <input class=\"uni-input\" name=\"nickname\" :value=\"nickname\" placeholder=\"请输入姓名\" maxlength=\"-1\" />\r\n        </view>\r\n        <view class=\"uni-form-item\">\r\n          <text class=\"title\">性别</text>\r\n          <radio-group name=\"gender\" class=\"flex-row\">\r\n            <view class=\"group-item\">\r\n              <radio value=\"0\" :checked=\"gender=='0'\" /><text>男</text>\r\n            </view>\r\n            <view class=\"group-item\">\r\n              <radio value=\"1\" :checked=\"gender=='1'\" /><text>女</text>\r\n            </view>\r\n          </radio-group>\r\n        </view>\r\n        <view class=\"uni-form-item\">\r\n          <text class=\"title\">爱好</text>\r\n          <checkbox-group name=\"loves\" class=\"flex-row\">\r\n            <view class=\"group-item\">\r\n              <checkbox value=\"0\" :checked=\"loves.indexOf('0')>-1\" /><text>读书</text>\r\n            </view>\r\n            <view class=\"group-item\">\r\n              <checkbox value=\"1\" :checked=\"loves.indexOf('1')>-1\" /><text>写字</text>\r\n            </view>\r\n          </checkbox-group>\r\n        </view>\r\n        <view class=\"uni-form-item\">\r\n          <text class=\"title\">年龄</text>\r\n          <slider name=\"age\" :value=\"age\" :show-value=\"true\"></slider>\r\n        </view>\r\n        <view class=\"uni-form-item\">\r\n          <text class=\"title\">保留选项</text>\r\n          <view>\r\n            <switch name=\"switch\" :checked=\"switch\" />\r\n          </view>\r\n        </view>\r\n        <view class=\"uni-form-item\">\r\n          <text class=\"title\">备注</text>\r\n          <textarea name=\"comment\" :value=\"comment\" placeholder=\"请输入备注\" style=\"background: #FFF;\" />\r\n          <!-- <textarea class=\"uni-input\" name=\"comment\" :value=\"comment\" placeholder=\"这个class的写法，导致iOS和Android产生了高度差异\"/> -->\r\n        </view>\r\n        <!-- picker -->\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        <view class=\"uni-form-item\">\r\n          <text class=\"title\">时间</text>\r\n          <picker-view class=\"picker-view\" name=\"time\" :value=\"time\" indicator-style=\"height:50px\">\r\n            <picker-view-column>\r\n              <view class=\"picker-view-item\" v-for=\"(item,index) in hours\" :key=\"index\">\r\n                <text class=\"picker-view-text\">{{item}}时</text>\r\n              </view>\r\n            </picker-view-column>\r\n            <picker-view-column>\r\n              <view class=\"picker-view-item\" v-for=\"(item,index) in minutes\" :key=\"index\">\r\n                <text class=\"picker-view-text\">{{item}}分</text>\r\n              </view>\r\n            </picker-view-column>\r\n          </picker-view>\r\n        </view>\r\n        <view class=\"flex-row\">\r\n          <button class=\"btn btn-submit\" form-type=\"submit\" type=\"primary\">Submit</button>\r\n          <button class=\"btn btn-reset\" type=\"default\" form-type=\"reset\">Reset</button>\r\n        </view>\r\n      </form>\r\n      <view class=\"result\">提交的表单数据</view>\r\n      <textarea class=\"textarea\" :value=\"formDataText\" :maxlength=\"-1\" :auto-height=\"true\"></textarea>\r\n    </view>\r\n\r\n\r\n\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n  function getDate(type ?: string) : string {\r\n    const date = new Date();\r\n\r\n    let year = date.getFullYear();\r\n    let month = date.getMonth() + 1;\r\n    let day = date.getDate();\r\n\r\n    if (type === 'start') {\r\n      year = year - 10;\r\n    } else if (type === 'end') {\r\n      year = year + 10;\r\n    }\r\n\r\n    const monthString = month > 9 ? month.toString() : '0' + month;\r\n    const dayString = day > 9 ? day.toString() : '0' + day;\r\n\r\n    return `${year}-${monthString}-${dayString}`;\r\n  }\r\n  export default {\r\n    data() {\r\n      let hours = new Array<string>()\r\n      let minutes = new Array<string>()\r\n      for (let i = 1; i <= 24; i++) {\r\n        hours.push(i.toString())\r\n      }\r\n      for (let i = 1; i <= 60; i++) {\r\n        minutes.push(i.toString())\r\n      }\r\n      const date = new Date()\r\n      return {\r\n        nickname: '',\r\n        gender: '0',\r\n        age: 18,\r\n        loves: ['0'],\r\n        switch: true,\r\n        timeZoneIndex: 0,\r\n        timeZoneList: ['中国', '美国', '巴西', '日本'] as Array<string>,\r\n        multiArray: [\r\n          ['亚洲', '欧洲'],\r\n          ['中国', '日本'],\r\n          ['北京', '上海', '广州']\r\n        ] as Array<Array<string>>,\r\n        multiIndex: [0, 0, 0] as Array<number>,\r\n        datePickerValue: getDate(null),\r\n        startDate: getDate('start'),\r\n        endDate: getDate('end'),\r\n        timePickerValue: '12:01',\r\n        time: [date.getHours() - 1, date.getMinutes() - 1] as Array<number>,\r\n        hours: hours as Array<string>,\r\n        minutes: minutes as Array<string>,\r\n        comment: '',\r\n        formData: {} as UTSJSONObject,\r\n        // 仅测试\r\n        testVerifySubmit: false,\r\n        testVerifyReset: false,\r\n      }\r\n    },\r\n    computed: {\r\n      formDataText() : string {\r\n        return JSON.stringify(this.formData)\r\n      }\r\n    },\r\n    methods: {\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n      onFormSubmit(e : UniFormSubmitEvent) {\r\n        this.formData = e.detail.value\r\n\r\n        // 仅测试\r\n        this.testVerifySubmit = (e.type == 'submit' && (e.target?.tagName ?? '') == \"FORM\")\r\n      },\r\n      onFormReset(e : UniFormResetEvent) {\r\n        this.formData = {}\r\n        this.timeZoneIndex = 0\r\n\r\n        // 仅测试\r\n        this.testVerifyReset = (e.type == 'reset' && (e.target?.tagName ?? '') == \"FORM\")\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .scroll-view {\r\n    flex: 1;\r\n  }\r\n\r\n  .page {\r\n    padding: 15px;\r\n  }\r\n\r\n  .flex-row {\r\n    flex-direction: row;\r\n    align-items: center;\r\n  }\r\n\r\n  .uni-form-item {\r\n    padding: 15px 0;\r\n  }\r\n\r\n  .title {\r\n    margin-bottom: 10px;\r\n    opacity: 0.8;\r\n  }\r\n\r\n  .picker {\r\n    margin-left: 15px;\r\n  }\r\n\r\n  .group-item {\r\n    flex-direction: row;\r\n    margin-right: 20px;\r\n  }\r\n\r\n  .picker-view {\r\n    width: 200px;\r\n    height: 320px;\r\n    margin-top: 10px;\r\n  }\r\n\r\n  .picker-view-item {\r\n    height: 50px;\r\n  }\r\n\r\n  .picker-view-text {\r\n    line-height: 50px;\r\n    text-align: center;\r\n  }\r\n\r\n  .btn {\r\n    flex: 1;\r\n  }\r\n\r\n  .btn-submit {\r\n    margin-right: 5px;\r\n  }\r\n\r\n  .btn-reset {\r\n    margin-left: 5px;\r\n  }\r\n\r\n  .result {\r\n    margin-top: 30px;\r\n  }\r\n\r\n  .textarea {\r\n    margin-top: 5px;\r\n    padding: 5px;\r\n    background-color: #fff;\r\n  }\r\n</style>\r\n","import MiniProgramPage from 'W:/Workplace/2.小程序/lihai-app/pages/component/form/form.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent"],"mappings":";;AA2GE,SAAS,QAAQ,OAAc,MAAA;AAC7B,QAAM,OAAO,oBAAI;AAEjB,MAAI,OAAO,KAAK;AAChB,MAAI,QAAQ,KAAK,SAAQ,IAAK;AAC9B,MAAI,MAAM,KAAK;AAEf,MAAI,SAAS,SAAS;AACpB,WAAO,OAAO;AAAA,EAChB,WAAW,SAAS,OAAO;AACzB,WAAO,OAAO;AAAA,EAChB;AAEA,QAAM,cAAc,QAAQ,IAAI,MAAM,SAAS,IAAI,MAAM;AACzD,QAAM,YAAY,MAAM,IAAI,IAAI,SAAS,IAAI,MAAM;AAEnD,SAAO,GAAG,IAAI,IAAI,WAAW,IAAI,SAAS;AAC5C;AACA,MAAA,YAAeA,8BAAA;AAAA,EACb,OAAI;AACF,QAAI,QAAQ,IAAI;AAChB,QAAI,UAAU,IAAI;AAClB,aAAS,IAAI,GAAG,KAAK,IAAI,KAAK;AAC5B,YAAM,KAAK,EAAE,SAAU,CAAA;AAAA,IACzB;AACA,aAAS,IAAI,GAAG,KAAK,IAAI,KAAK;AAC5B,cAAQ,KAAK,EAAE,SAAU,CAAA;AAAA,IAC3B;AACA,UAAM,OAAO,oBAAI;AACjB,WAAO;AAAA,MACL,UAAU;AAAA,MACV,QAAQ;AAAA,MACR,KAAK;AAAA,MACL,OAAO,CAAC,GAAG;AAAA,MACX,QAAQ;AAAA,MACR,eAAe;AAAA,MACf,cAAc,CAAC,MAAM,MAAM,MAAM,IAAI;AAAA,MACrC,YAAY;AAAA,QACV,CAAC,MAAM,IAAI;AAAA,QACX,CAAC,MAAM,IAAI;AAAA,QACX,CAAC,MAAM,MAAM,IAAI;AAAA,MACM;AAAA,MACzB,YAAY,CAAC,GAAG,GAAG,CAAC;AAAA,MACpB,iBAAiB,QAAQ,IAAI;AAAA,MAC7B,WAAW,QAAQ,OAAO;AAAA,MAC1B,SAAS,QAAQ,KAAK;AAAA,MACtB,iBAAiB;AAAA,MACjB,MAAM,CAAC,KAAK,SAAS,IAAI,GAAG,KAAK,WAAa,IAAE,CAAC;AAAA,MACjD;AAAA,MACA;AAAA,MACA,SAAS;AAAA,MACT,UAAQ,IAAA,cAAE,EAAmB;AAAA;AAAA,MAE7B,kBAAkB;AAAA,MAClB,iBAAiB;AAAA;EAEpB;AAAA,EACD,UAAU;AAAA,IACR,eAAY;AACV,aAAO,SAAK,UAAU,KAAK,QAAQ;AAAA,IACrC;AAAA,EACD;AAAA,EACD,SAAS;AAAA,IA2DP,aAAa,GAAsB;;AACjC,WAAK,WAAW,EAAE,OAAO;AAGzB,WAAK,mBAAoB,EAAE,QAAQ,cAAa,WAAA,EAAE,YAAM,QAAA,OAAA,SAAA,OAAA,GAAE,aAAQ,QAAA,OAAA,SAAA,KAAG,OAAO;AAAA,IAC7E;AAAA,IACD,YAAY,GAAqB;;AAC/B,WAAK,WAAW,IAAA,cAAA,CAAC,CAAA;AACjB,WAAK,gBAAgB;AAGrB,WAAK,kBAAmB,EAAE,QAAQ,aAAY,WAAA,EAAE,YAAM,QAAA,OAAA,SAAA,OAAA,GAAE,aAAM,QAAA,OAAA,SAAA,KAAK,OAAO;AAAA,IAC5E;AAAA,EACF;CACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjPF,GAAG,WAAW,eAAe;"}