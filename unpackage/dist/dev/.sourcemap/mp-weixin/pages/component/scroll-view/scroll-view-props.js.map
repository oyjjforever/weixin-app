{"version":3,"file":"scroll-view-props.js","sources":["pages/component/scroll-view/scroll-view-props.uvue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY29tcG9uZW50L3Njcm9sbC12aWV3L3Njcm9sbC12aWV3LXByb3BzLnV2dWU"],"sourcesContent":["<template>\r\n  <!-- <view class=\"page-scroll-view\"> -->\r\n    <page-head title=\"非下拉刷新的scroll-view属性示例\"></page-head>\r\n\r\n    <!-- 暂时分成两个方向不同的滚动视图，原因为：scroll-view组件不支持动态改变direction。 -->\r\n    <scroll-view v-if=\"scrollX\" direction=\"horizontal\" :scroll-top=\"scrollTop\" :scroll-left=\"scrollLeft\"\r\n      :upper-threshold=\"upperThreshold\" :lower-threshold=\"lowerThreshold\" :scroll-into-view=\"scrollIntoView\"\r\n      :enable-back-to-top=\"enableBackToTop\" :scroll-with-animation=\"scrollWithAnimation\" style=\"flex-direction: row;\"\r\n      class=\"uni-margin-wrap\" :show-scrollbar=\"showScrollbar\" :bounces=\"bounces\" @scrolltoupper=\"scrolltoupper\"\r\n      @scrolltolower=\"scrolltolower\" @scroll=\"scroll\" @scrollend=\"scrollend\" ref=\"scrollViewX\" id=\"scrollViewX\">\r\n      <!-- h-margin-right末尾元素添加margin-right 测试bug #3866-->\r\n      <view class=\"item\" :id=\"'horizontal_'+item.id\" v-for=\"(item,index) in items\"\r\n        :class=\"index==9 ? 'h-margin-right': ''\">\r\n        <text class=\"uni-text\">{{item.label}}</text>\r\n      </view>\r\n    </scroll-view>\r\n    <scroll-view v-else direction=\"vertical\" :scroll-top=\"scrollTop\" :scroll-left=\"scrollLeft\"\r\n      :upper-threshold=\"upperThreshold\" :lower-threshold=\"lowerThreshold\" :scroll-into-view=\"scrollIntoView\"\r\n      :enable-back-to-top=\"enableBackToTop\" :scroll-with-animation=\"scrollWithAnimation\" :show-scrollbar=\"showScrollbar\"\r\n      :bounces=\"bounces\" @scrolltoupper=\"scrolltoupper\" @touchmove=\"onTouchMove\" @scrolltolower=\"scrolltolower\"\r\n      @scroll=\"scroll\" @scrollend=\"scrollend\" ref=\"scrollViewY\" id=\"scrollViewY\" class=\"uni-margin-wrap\">\r\n      <!-- v-margin-bottom末尾元素添加margin-bottom 测试bug #3866-->\r\n      <view class=\"item\" :id=\"item.id\" v-for=\"(item, index) in items\" :class=\"index==9 ? 'v-margin-bottom': ''\">\r\n        <text class=\"uni-text\">{{item.label}}</text>\r\n      </view>\r\n    </scroll-view>\r\n\r\n    <scroll-view class=\"uni-list\" :showScrollbar=\"true\" :scroll-y=\"true\">\r\n      <view class=\"uni-list-cell uni-list-cell-padding\">\r\n        <text>点击状态栏回到顶部（仅iOS）</text>\r\n        <switch :checked=\"enableBackToTop\" @change=\"enableBackToTop=!enableBackToTop\"></switch>\r\n      </view>\r\n      <view class=\"uni-list-cell uni-list-cell-padding\">\r\n        <text>是否显示滚动条</text>\r\n        <switch :checked=\"showScrollbar\" @change=\"showScrollbar=!showScrollbar\"></switch>\r\n      </view>\r\n      <view class=\"uni-list-cell uni-list-cell-padding\">\r\n        <text>是否有反弹效果</text>\r\n        <switch :checked=\"bounces\" @change=\"bounces=!bounces\"></switch>\r\n      </view>\r\n      <view class=\"uni-list-cell uni-list-cell-padding\">\r\n        <text>是否开启滚动时使用动画过渡</text>\r\n        <switch :checked=\"scrollWithAnimation\" @change=\"scrollWithAnimation=!scrollWithAnimation\"></switch>\r\n      </view>\r\n      <view class=\"uni-list-cell uni-list-cell-padding\">\r\n        <text>是否横向滚动</text>\r\n        <switch :checked=\"scrollX\" @change=\"changeDirectionX\"></switch>\r\n      </view>\r\n      <view class=\"uni-list-cell uni-list-cell-padding\">\r\n        <text>是否竖向滚动</text>\r\n        <switch :checked=\"scrollY\" @change=\"changeDirectionY\"></switch>\r\n      </view>\r\n      <view class=\"uni-slider uni-list-cell-padding\">\r\n        <text>拖动设置scroll-top</text>\r\n      </view>\r\n      <view class=\"uni-slider uni-list-cell-padding\">\r\n        <slider :max=\"1000\" :min=\"0\" :step=\"10\" :value=\"scrollTop\" :show-value=\"true\" @change=\"handleChangeScrollTop\" />\r\n      </view>\r\n      <view class=\"uni-slider uni-list-cell-padding\">\r\n        <text>拖动设置scroll-left</text>\r\n      </view>\r\n      <view class=\"uni-slider uni-list-cell-padding\">\r\n        <slider :max=\"1000\" :min=\"0\" :step=\"10\" :value=\"scrollLeft\" :show-value=\"true\"\r\n          @change=\"handleChangeScrollLeft\" />\r\n      </view>\r\n      <view class=\"uni-list-cell uni-list-cell-padding\">\r\n        <text>设置触发scrolltoupper的距离</text>\r\n        <input class=\"uni-list-cell-input\" type=\"number\" :value=\"upperThreshold\" @input=\"handleUpperThresholdInput\" />\r\n      </view>\r\n      <view class=\"uni-list-cell uni-list-cell-padding\">\r\n        <text>设置触发scrolltolower的距离</text>\r\n        <input class=\"uni-list-cell-input\" type=\"number\" :value=\"lowerThreshold\" @input=\"handleLowerThresholdInput\" />\r\n      </view>\r\n      <view class=\"uni-list-cell uni-list-cell-padding\">\r\n        <button type=\"primary\" class=\"button\" @click=\"handleScrollIntoView\">\r\n          滚动到id为`item3`的子视图\r\n        </button>\r\n      </view>\r\n      <view class=\"uni-list-cell uni-list-cell-padding\">\r\n      </view>\r\n    </scroll-view>\r\n  <!-- </view> -->\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n  type Item = {\r\n    id : string,\r\n    label : string,\r\n  }\r\n  export default {\r\n    data() {\r\n      return {\r\n        items: [] as Item[],\r\n        scrollX: false,\r\n        scrollY: true,\r\n        bounces: false,\r\n        scrollTop: 0,\r\n        scrollLeft: 0,\r\n        scrollChangeTop: 0,\r\n        scrollIntoView: \"\",\r\n        enableBackToTop: false,\r\n        scrollWithAnimation: false,\r\n        showScrollbar: true,\r\n        upperThreshold: 50,\r\n        lowerThreshold: 50,\r\n      }\r\n    },\r\n\r\n    onLoad() {\r\n      for (let i = 0; i < 10; i++) {\r\n        const item = {\r\n          id: \"item\" + i,\r\n          label: \"item\" + i,\r\n        } as Item;\r\n        this.items.push(item);\r\n      }\r\n    },\r\n    methods: {\r\n      handleChangeScrollLeft(e : UniSliderChangeEvent) {\r\n        this.scrollLeft = e.detail.value;\r\n      },\r\n      handleChangeScrollTop(e : UniSliderChangeEvent) {\r\n        this.scrollTop = e.detail.value;\r\n      },\r\n      changeDirectionX() {\r\n        this.scrollX = !this.scrollX;\r\n        if (this.scrollX) {\r\n          this.scrollY = false\r\n        }\r\n        this.scrollTop = 0;\r\n        this.scrollLeft = 0;\r\n      },\r\n      changeDirectionY() {\r\n        this.scrollY = !this.scrollY;\r\n        if (this.scrollY) {\r\n          this.scrollX = false\r\n        }\r\n        this.scrollTop = 0;\r\n        this.scrollLeft = 0;\r\n      },\r\n      handleScrollIntoView() {\r\n        if (this.scrollX) {\r\n          this.scrollIntoView = \"horizontal_item3\";\r\n        } else {\r\n          this.scrollIntoView = \"item3\";\r\n        }\r\n        //重置状态，由于响应式的原因，设置的值与当前值相同，会导致再次设置无效果。\r\n        setTimeout(() => {\r\n          this.scrollIntoView = \"\";\r\n        }, 0);\r\n      },\r\n      handleUpperThresholdInput(e : InputEvent) {\r\n        const value = e.detail.value;\r\n        if (value == \"\") {\r\n          this.upperThreshold = 50;\r\n        } else {\r\n          this.upperThreshold = parseInt(e.detail.value);\r\n        }\r\n      },\r\n      handleLowerThresholdInput(e : InputEvent) {\r\n        const value = e.detail.value;\r\n        if (value == \"\") {\r\n          this.lowerThreshold = 50;\r\n        } else {\r\n          this.lowerThreshold = parseInt(e.detail.value);\r\n        }\r\n      },\r\n      //事件监听\r\n      scrolltoupper() {\r\n        uni.__f__('log','at pages/component/scroll-view/scroll-view-props.uvue:170',\"滚动到顶部\");\r\n      },\r\n      scrolltolower() {\r\n        uni.__f__('log','at pages/component/scroll-view/scroll-view-props.uvue:173',\"滚动到底部\");\r\n      },\r\n      scroll(e : ScrollEvent) {\r\n        this.scrollChangeTop = e.detail.scrollTop\r\n        uni.__f__('log','at pages/component/scroll-view/scroll-view-props.uvue:177',\"scroll-top : \" + e.detail.scrollTop + \" scroll-left : \" + e.detail.scrollLeft);\r\n      },\r\n      scrollend() {\r\n        uni.__f__('log','at pages/component/scroll-view/scroll-view-props.uvue:180',\"滚动停止\");\r\n      },\r\n      onTouchMove() {\r\n        uni.__f__('log','at pages/component/scroll-view/scroll-view-props.uvue:183',\"TouchMove\");\r\n      },\r\n      //自动化测试专用\r\n      checkScrollHeight() : Boolean {\r\n        var element = this.$refs[\"scrollViewY\"]\r\n        if (element != null) {\r\n          var scrollHeight = (element as UniElement).scrollHeight\r\n          uni.__f__('log','at pages/component/scroll-view/scroll-view-props.uvue:190',\"checkScrollHeight\" + scrollHeight)\r\n          if (scrollHeight > 1900) {\r\n            return true\r\n          }\r\n        }\r\n        return false\r\n      },\r\n      //自动化测试专用\r\n      checkScrollWidth() : Boolean {\r\n        var element = this.$refs[\"scrollViewX\"]\r\n        if (element != null) {\r\n          var scrollWidth = (element as UniElement).scrollWidth\r\n          uni.__f__('log','at pages/component/scroll-view/scroll-view-props.uvue:202',\"checkScrollWidth---\" + scrollWidth)\r\n          if (scrollWidth > 1900) {\r\n            return true\r\n          }\r\n        }\r\n        return false\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .uni-margin-wrap {\r\n    height: 250px;\r\n    margin: 0 25px 25px 25px;\r\n  }\r\n\r\n  .item {\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 250px;\r\n    width: 100%;\r\n    background-color: azure;\r\n    border-width: 1px;\r\n    border-style: solid;\r\n    border-color: chocolate;\r\n  }\r\n\r\n  .uni-list {\r\n    flex: 1;\r\n  }\r\n\r\n  .uni-text {\r\n    color: black;\r\n    font-size: 50px;\r\n  }\r\n\r\n  .uni-slider {\r\n    justify-content: center;\r\n  }\r\n\r\n  .uni-list-cell-input {\r\n    width: 50px;\r\n    border: 1px solid #ccc;\r\n    text-align: center;\r\n  }\r\n\r\n  .button {\r\n    flex: 1;\r\n  }\r\n\r\n  /*自动化测试专用*/\r\n  .v-margin-bottom {\r\n    margin-bottom: 50px;\r\n  }\r\n\r\n  /*自动化测试专用*/\r\n  .h-margin-right {\r\n    margin-right: 50px;\r\n  }\r\n</style>\n","import MiniProgramPage from 'W:/Workplace/2.小程序/lihai-app/pages/component/scroll-view/scroll-view-props.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni"],"mappings":"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"}