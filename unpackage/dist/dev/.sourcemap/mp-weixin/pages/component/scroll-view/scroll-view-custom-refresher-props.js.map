{"version":3,"file":"scroll-view-custom-refresher-props.js","sources":["pages/component/scroll-view/scroll-view-custom-refresher-props.uvue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY29tcG9uZW50L3Njcm9sbC12aWV3L3Njcm9sbC12aWV3LWN1c3RvbS1yZWZyZXNoZXItcHJvcHMudXZ1ZQ"],"sourcesContent":["<template>\r\n  <view style=\"overflow: visible; flex: 1;\">\r\n    <page-head title=\"list-view 下拉刷新\"></page-head>\r\n    <scroll-view style=\"flex:1;\" :refresher-enabled=\"true\" :refresher-triggered=\"refresherTriggered\"\r\n      refresher-default-style=\"none\" @refresherpulling=\"onRefresherpulling\" @refresherrefresh=\"onRefresherrefresh\"\r\n      @refresherrestore=\"onRefreshrestore\" refresher-max-drag-distance=\"200px\">\r\n      <view style=\"height: 25px;\"></view>\r\n      <view v-for=\"i in listCount\" class=\"content-item\">\r\n        <text class=\"text\">item-{{i}}</text>\r\n      </view>\r\n      <refresh-box slot=\"refresher\" :state=\"state\"></refresh-box>\r\n    </scroll-view>\r\n  </view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n  import refreshBox from './refresh-box/refresh-box.uvue';\r\n  export default {\r\n    components: { refreshBox },\r\n    data() {\r\n      return {\n        listCount : 20,\r\n        refresherTriggered: false,\r\n        pullingDistance: 0,\r\n        resetting: false,\n        triggered: false\r\n      }\r\n    },\r\n    computed: {\r\n      state() : number {\r\n        if (this.resetting) {\r\n          return 3;\r\n        }\r\n        if (this.refresherTriggered) {\r\n          return 2\r\n        }\r\n        if (this.pullingDistance > 45) {\r\n          return 1\r\n        } else {\r\n          return 0;\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      onRefresherpulling(e : RefresherEvent) {\r\n        this.pullingDistance = e.detail.dy;\n        this.triggered = true;\r\n      },\r\n      onRefresherrefresh() {\r\n        this.refresherTriggered = true\r\n        setTimeout(() => {\r\n          this.refresherTriggered = false\r\n          this.resetting = true;\r\n        }, 1500)\r\n      },\r\n      onRefreshrestore() {\r\n        this.pullingDistance = 0\r\n        this.resetting = false;\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .content-item {\r\n    padding: 15px;\r\n    margin: 5px 0;\r\n    background-color: #fff;\r\n    border-radius: 5px;\r\n  }\r\n\r\n  .text {\r\n    font-size: 14px;\r\n    color: #666;\r\n    line-height: 20px;\r\n  }\r\n</style>\n","import MiniProgramPage from 'W:/Workplace/2.小程序/lihai-app/pages/component/scroll-view/scroll-view-custom-refresher-props.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent"],"mappings":";;AAgBE,MAAO,aAAgB,MAAA;AACvB,MAAA,YAAeA,8BAAA;AAAA,EACb,YAAY,EAAE,WAAY;AAAA,EAC1B,OAAI;AACF,WAAO;AAAA,MACL,WAAY;AAAA,MACZ,oBAAoB;AAAA,MACpB,iBAAiB;AAAA,MACjB,WAAW;AAAA,MACX,WAAW;AAAA;EAEd;AAAA,EACD,UAAU;AAAA,IACR,QAAK;AACH,UAAI,KAAK,WAAW;AAClB,eAAO;AAAA,MACT;AACA,UAAI,KAAK,oBAAoB;AAC3B,eAAO;AAAA,MACT;AACA,UAAI,KAAK,kBAAkB,IAAI;AAC7B,eAAO;AAAA,MACP,OAAK;AACL,eAAO;AAAA,MACT;AAAA,IACF;AAAA,EACD;AAAA,EACD,SAAS;AAAA,IACP,mBAAmB,GAAkB;AACnC,WAAK,kBAAkB,EAAE,OAAO;AAChC,WAAK,YAAY;AAAA,IAClB;AAAA,IACD,qBAAkB;AAChB,WAAK,qBAAqB;AAC1B,iBAAW,MAAA;AACT,aAAK,qBAAqB;AAC1B,aAAK,YAAY;AAAA,MAClB,GAAE,IAAI;AAAA,IACR;AAAA,IACD,mBAAgB;AACd,WAAK,kBAAkB;AACvB,WAAK,YAAY;AAAA,IACnB;AAAA,EACF;CACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3DF,GAAG,WAAW,eAAe;"}