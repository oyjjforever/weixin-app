{"version":3,"file":"datacom.js","sources":["pages/component/unicloud-db/unicloud-db/mixin-datacom/datacom.uvue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/VzovV29ya3BsYWNlLzIu5bCP56iL5bqPL2xpaGFpLWFwcC9wYWdlcy9jb21wb25lbnQvdW5pY2xvdWQtZGIvdW5pY2xvdWQtZGIvbWl4aW4tZGF0YWNvbS9kYXRhY29tLnV2dWU"],"sourcesContent":["<template>\r\n  <view>\r\n    <view v-if=\"mixinDatacomLoading\">Loading...</view>\r\n    <view v-else-if=\"mixinDatacomError\">\r\n      请求错误：{{mixinDatacomError}}\r\n    </view>\r\n    <view v-else=\"mixinDatacomResData.length>0\">\r\n      <!-- 需要自行处理数据及相关UI展现 -->\r\n      <!-- {{mixinDatacomResData}} -->\r\n      <scroll-view class=\"list-view\">\r\n        <view class=\"list-item\" v-for=\"(item, _) in mixinDatacomResData\">\r\n          <text>{{item}}</text>\r\n        </view>\r\n      </scroll-view>\r\n    </view>\r\n    <view v-if=\"!mixinDatacomLoading && mixinDatacomResData.length==0\">\r\n      无数据\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n  export default {\r\n    mixins: [uniCloud.mixinDatacom],\r\n    data() {\r\n      return {\r\n      }\r\n    },\r\n    created() {\r\n      this.load()\r\n    },\r\n    methods: {\r\n      load() {\r\n        if (this.mixinDatacomLoading == true) {\r\n          return\r\n        }\r\n        this.mixinDatacomLoading = true\r\n\r\n        this.mixinDatacomGet(null).then((res : UniCloudDBGetResult) => {\r\n          const data = res.data\r\n          // const count = res.count\r\n          this.mixinDatacomResData = data\r\n        }).catch((err : any | null) => {\r\n          this.mixinDatacomError = err as UniCloudError\r\n        }).finally(() => {\r\n          this.mixinDatacomLoading = false\r\n        })\r\n      },\r\n      // 当组件属性发生变化时\r\n      onMixinDatacomPropsChange(needReset : boolean, changed : Array<string>) {\r\n        uni.__f__('log','at pages/component/unicloud-db/unicloud-db/mixin-datacom/datacom.uvue:51',needReset, changed);\r\n        // needReset=true 需要重置已加载数据和分页信息，例如 collection，orderby\r\n        // changed，变化的属性名，类型为 Array，例如 ['collection', 'orderby']\r\n        // if (needReset) {\r\n        //   // 清空已加载的数据\r\n        //   this.mixinDatacomResData = []\r\n\r\n        //   // 重置分页数据，如果没有分页不需要处理\r\n        //   this.mixinDatacomPage.size = this.pageSize // 重置分页大小\r\n        //   this.mixinDatacomPage.current = 0 // 重置当前分页\r\n        //   this.mixinDatacomPage.count = 0 // 重置数据总数\r\n        // }\r\n      }\r\n    }\r\n  }\r\n</script>\n","import Component from 'W:/Workplace/2.小程序/lihai-app/pages/component/unicloud-db/unicloud-db/mixin-datacom/datacom.uvue'\nwx.createComponent(Component)"],"names":["defineComponent","uniCloud","uni"],"mappings":";;AAsBE,MAAA,YAAeA,8BAAA;AAAA,EACb,QAAQ,CAACC,cAAQ,GAAC,YAAY;AAAA,EAC9B,OAAI;AACF,WAAO;EAER;AAAA,EACD,UAAO;AACL,SAAK,KAAI;AAAA,EACV;AAAA,EACD,SAAS;AAAA,IACP,OAAI;AACF,UAAI,KAAK,uBAAuB,MAAM;AACpC,eAAK;AAAA,MACP;AACA,WAAK,sBAAsB;AAE3B,WAAK,gBAAgB,IAAI,EAAE,KAAK,CAAC,QAAyB;AACxD,cAAM,OAAO,IAAI;AAEjB,aAAK,sBAAsB;AAAA,MAC5B,CAAA,EAAE,MAAM,CAAC,MAAgB,SAAA;AACxB,aAAK,oBAAoB;AAAA,OAC1B,EAAE,QAAQ,MAAA;AACT,aAAK,sBAAsB;AAAA,MAC7B,CAAC;AAAA,IACF;AAAA;AAAA,IAED,0BAA0B,WAAqB,SAAuB;AACpEC,oBAAG,MAAC,MAAM,OAAM,4EAA2E,WAAW,OAAO;AAAA,IAY/G;AAAA,EACF;CACF;;;;;;;;;;;;;;;;;;;;;AC/DF,GAAG,gBAAgB,SAAS;"}