{"version":3,"file":"image-format.js","sources":["pages/component/image/image-format.uvue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY29tcG9uZW50L2ltYWdlL2ltYWdlLWZvcm1hdC51dnVl"],"sourcesContent":["<template>\r\n\r\n\r\n\r\n    <page-head :title=\"title\"></page-head>\r\n    <view class=\"uni-padding-wrap uni-common-mt\">\r\n      <!-- <view class=\"uni-title\">\r\n        <text class=\"uni-title-text\">支持的图片格式示例</text>\r\n      </view> -->\r\n      <view v-for=\"(item,index) in supportFormats\" :key=\"index\">\r\n        <text class=\"uni-subtitle-text\">{{item.format}}</text>\r\n        <view class=\"uni-center\" style=\"background:#FFFFFF;\">\r\n          <!-- <image class=\"image\" mode=\"widthFix\" :src=\"item.src\"></image> -->\r\n          <image class=\"image\" mode=\"widthFix\" :src=\"item.errorImage == null ? item.src : item.errorImage\"\r\n            @error=\"imageErrorEvent(index, $event as ImageErrorEvent)\"></image>\r\n        </view>\r\n      </view>\r\n      <!-- <view class=\"uni-title\">\r\n        <text class=\"uni-title-text\">暂不支持的格式</text>\r\n      </view>\r\n      <view v-for=\"(item,index) in notSupportFormats\" :key=\"index\">\r\n        <text class=\"uni-subtitle-text\">{{item.format}}</text>\r\n        <view class=\"uni-center\" style=\"background:#FFFFFF;\">\r\n          <image class=\"image\" mode=\"widthFix\" :src=\"item.errorImage == null ? item.src : item.errorImage\"\r\n            @error=\"imageErrorEvent(index, $event as ImageErrorEvent)\"></image>\r\n        </view>\r\n      </view> -->\r\n    </view>\r\n\r\n\r\n\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'image-format',\r\n        supportFormats: [\r\n          {\r\n            format: 'bmp',\r\n            src: '/static/test-image/logo.bmp'\r\n          },\r\n          {\r\n            format: 'gif',\r\n            src: '/static/test-image/logo.gif'\r\n          },\r\n          {\r\n            format: 'ico',\r\n            src: '/static/test-image/logo.ico'\r\n          },\r\n          {\r\n            format: 'jpg',\r\n            src: '/static/test-image/logo.jpg'\r\n          },\r\n          {\r\n            format: 'png',\r\n            src: '/static/test-image/logo.png'\r\n          },\r\n          {\r\n            format: 'webp',\r\n            src: '/static/test-image/logo.webp'\r\n          },\r\n          {\r\n            format: 'heic（App-Android10+支持）',\r\n            src: '/static/test-image/logo.heic'\r\n          },\r\n          {\r\n            format: 'avif（仅部分浏览器支持）',\r\n            src: '/static/test-image/logo.avif'\r\n          },\r\n          {\r\n            format: 'tif（仅部分浏览器支持）',\r\n            src: '/static/test-image/logo.tif'\r\n          },\r\n          {\r\n            format: 'svg（iOS、Android 暂不支持）',\r\n            src: '/static/test-image/logo.svg'\r\n          }\r\n        ] as Array<ImageFormat>\r\n        /* notSupportFormats: [\r\n          {\r\n            format: 'avif',\r\n            src: '/static/test-image/logo.avif'\r\n          },\r\n          {\r\n            format: 'tif',\r\n            src: '/static/test-image/logo.tif'\r\n          }\r\n        ] as Array<ImageFormat> */\r\n      }\r\n    },\r\n    methods: {\r\n      imageErrorEvent(index : number, e : ImageErrorEvent) {\r\n        uni.__f__('log','at pages/component/image/image-format.uvue:95',\"图片加载错误\", e.detail);\r\n        // 图片加载失败，加载本地占位图\r\n        this.supportFormats[index].errorImage = '/static/template/drop-card/dislike.png'\r\n      }\r\n    },\r\n  }\r\n\r\n  type ImageFormat = {\r\n    format : string\r\n    src : string.ImageURIString\r\n    errorImage ?: string.ImageURIString | null\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .image {\r\n    margin: 40px auto;\r\n    width: 100px;\r\n  }\r\n</style>\r\n","import MiniProgramPage from 'W:/Workplace/2.小程序/lihai-app/pages/component/image/image-format.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni"],"mappings":";;AAkCE,MAAA,YAAeA,8BAAA;AAAA,EACb,OAAI;AACF,WAAO;AAAA,MACL,OAAO;AAAA,MACP,gBAAgB;AAAA,QACd,IAAA,YAAA;AAAA,UACE,QAAQ;AAAA,UACR,KAAK;AAAA,QACN,CAAA;AAAA,QACD,IAAA,YAAA;AAAA,UACE,QAAQ;AAAA,UACR,KAAK;AAAA,QACN,CAAA;AAAA,QACD,IAAA,YAAA;AAAA,UACE,QAAQ;AAAA,UACR,KAAK;AAAA,QACN,CAAA;AAAA,QACD,IAAA,YAAA;AAAA,UACE,QAAQ;AAAA,UACR,KAAK;AAAA,QACN,CAAA;AAAA,QACD,IAAA,YAAA;AAAA,UACE,QAAQ;AAAA,UACR,KAAK;AAAA,QACN,CAAA;AAAA,QACD,IAAA,YAAA;AAAA,UACE,QAAQ;AAAA,UACR,KAAK;AAAA,QACN,CAAA;AAAA,QACD,IAAA,YAAA;AAAA,UACE,QAAQ;AAAA,UACR,KAAK;AAAA,QACN,CAAA;AAAA,QACD,IAAA,YAAA;AAAA,UACE,QAAQ;AAAA,UACR,KAAK;AAAA,QACN,CAAA;AAAA,QACD,IAAA,YAAA;AAAA,UACE,QAAQ;AAAA,UACR,KAAK;AAAA,QACN,CAAA;AAAA,QACD,IAAA,YAAA;AAAA,UACE,QAAQ;AAAA,UACR,KAAK;AAAA,QACP,CAAA;AAAA,MACoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAYzB;AAAA,EACD,SAAS;AAAA,IACP,gBAAgB,OAAgB,GAAmB;AACjDC,oBAAG,MAAC,MAAM,OAAM,iDAAgD,UAAU,EAAE,MAAM;AAElF,WAAK,eAAe,KAAK,EAAE,aAAa;AAAA,IAC1C;AAAA,EACD;CACH;MAEK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpGP,GAAG,WAAW,eAAe;"}