{"version":3,"file":"transition-events.js","sources":["pages/component/global-events/transition-events.uvue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY29tcG9uZW50L2dsb2JhbC1ldmVudHMvdHJhbnNpdGlvbi1ldmVudHMudXZ1ZQ"],"sourcesContent":["<template>\r\n\r\n\r\n\r\n    <image class=\"transition-transform\" id=\"transition-transform\" @transitionend=\"onEnd\" src=\"/static/uni.png\"></image>\r\n    <text class=\"adjust\">对图片设置transform进行旋转，在旋转完成的transitionend事件后，继续旋转</text>\r\n    <button class=\"adjust\" @click=\"switchBtn\">{{buttonValue}}</button>\r\n\r\n\r\n\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n  export default {\r\n    data() {\r\n      return {\r\n        times: 0,\r\n        element: null as UniElement | null,\r\n        isStart: false,\r\n        buttonValue: \"开启图片旋转\",\r\n        onTransitionEndTriggr: false,\r\n        isShow: false\r\n      }\r\n    },\r\n    onReady() {\r\n      // onReady中动态修改isShow是为了验证在安卓手机上子线程中创建节点可能会崩溃的问题，不具备代码参考性。\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n      this.isShow = true\r\n\r\n    },\r\n    methods: {\r\n      switchBtn() {\r\n        if (!this.isStart) {\r\n          if (this.element == null) {\r\n            this.element = uni.getElementById('transition-transform')\r\n          }\r\n          this.buttonValue = \"关闭图片旋转\"\r\n          this.times = this.times + 1\r\n          this.element!.style.setProperty('transition-duration', '2000ms')\r\n          this.element!.style.setProperty('transform', 'rotate(' + this.times * 360 + 'deg)')\r\n          this.isStart = true\r\n        } else {\r\n          this.isStart = false\r\n          this.times = 0\r\n          this.onTransitionEndTriggr = false\r\n          this.buttonValue = \"开启图片旋转\"\r\n          this.element!.style.setProperty('transition-duration', '0ms')\r\n          this.element!.style.setProperty('transform', 'rotate(0deg)')\r\n        }\r\n      },\r\n      onEnd() {\r\n        uni.__f__('log','at pages/component/global-events/transition-events.uvue:61','transform transitionend')\r\n        if (this.isStart) {\r\n          this.times = this.times + 1\r\n          this.element!.style.setProperty('transform', 'rotate(' + this.times * 360 + 'deg)')\r\n          this.onTransitionEndTriggr = true\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .adjust {\r\n    margin: 10px;\r\n  }\r\n\r\n  .transition-transform {\r\n    width: 200px;\r\n    height: 200px;\r\n    margin: 25px auto;\r\n    border-radius: 100px;\r\n    transition-property: transform;\r\n    transition-timing-function: linear;\r\n    transform: rotate(0deg);\r\n  }\r\n</style>\r\n","import MiniProgramPage from 'W:/Workplace/2.小程序/lihai-app/pages/component/global-events/transition-events.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni"],"mappings":";;;AAaE,MAAA,YAAeA,8BAAA;AAAA,EACb,OAAI;AACF,WAAO;AAAA,MACL,OAAO;AAAA,MACP,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,MACb,uBAAuB;AAAA,MACvB,QAAQ;AAAA;EAEX;AAAA,EACD,UAAO;AAYL,SAAK,SAAS;AAAA,EAEf;AAAA,EACD,SAAS;AAAA,IACP,YAAS;AACP,UAAI,CAAC,KAAK,SAAS;AACjB,YAAI,KAAK,WAAW,MAAM;AACxB,eAAK,UAAUC,cAAAA,MAAI,eAAe,sBAAsB;AAAA,QAC1D;AACA,aAAK,cAAc;AACnB,aAAK,QAAQ,KAAK,QAAQ;AAC1B,aAAK,QAAS,MAAM,YAAY,uBAAuB,QAAQ;AAC/D,aAAK,QAAS,MAAM,YAAY,aAAa,YAAY,KAAK,QAAQ,MAAM,MAAM;AAClF,aAAK,UAAU;AAAA,MACf,OAAK;AACL,aAAK,UAAU;AACf,aAAK,QAAQ;AACb,aAAK,wBAAwB;AAC7B,aAAK,cAAc;AACnB,aAAK,QAAS,MAAM,YAAY,uBAAuB,KAAK;AAC5D,aAAK,QAAS,MAAM,YAAY,aAAa,cAAc;AAAA,MAC7D;AAAA,IACD;AAAA,IACD,QAAK;AACHA,oBAAAA,MAAI,MAAM,OAAM,8DAA6D,yBAAyB;AACtG,UAAI,KAAK,SAAS;AAChB,aAAK,QAAQ,KAAK,QAAQ;AAC1B,aAAK,QAAS,MAAM,YAAY,aAAa,YAAY,KAAK,QAAQ,MAAM,MAAM;AAClF,aAAK,wBAAwB;AAAA,MAC/B;AAAA,IACF;AAAA,EACF;CACF;;;;;;;;;;;ACnEF,GAAG,WAAW,eAAe;"}