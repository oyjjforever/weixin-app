{"version":3,"file":"touch-events-bubbles.js","sources":["pages/component/global-events/touch-events-bubbles.uvue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY29tcG9uZW50L2dsb2JhbC1ldmVudHMvdG91Y2gtZXZlbnRzLWJ1YmJsZXMudXZ1ZQ"],"sourcesContent":["<template>\r\n  <scroll-view style=\"flex: 1\">\r\n    <page-head title=\"事件冒泡测试\"></page-head>\r\n    <view class=\"container\">\r\n      <view class=\"view-box\" id=\"view1\" @touchstart=\"onTouchStart\" @touchmove=\"onTouchMove\" @touchend=\"onTouchEnd\">\r\n        <view class=\"mid-view\" id=\"view1-2\" @touchstart=\"onTouchStart\" @touchmove=\"onTouchMove\" @touchend=\"onTouchEnd\">\r\n          <image class=\"icon\" id=\"view1-3\" src=\"../image/logo.png\" @touchstart=\"onTouchStart\" @touchmove=\"onTouchMove\"\r\n            @touchend=\"onTouchEnd\"></image>\r\n        </view>\r\n      </view>\r\n      <view class=\"view-box\" id=\"view2\" @touchstart=\"onTouchStart\" @touchmove=\"onTouchMove\" @touchend=\"onTouchEnd\">\r\n        <view class=\"mid-view\" id=\"view2-2\" @touchend=\"onTouchEnd\">\r\n          <view style=\"background-color: beige;\" class=\"icon\" id=\"view2-3\" @touchstart=\"onTouchStart\" @touchend=\"onTouchEnd\"></view>\r\n        </view>\r\n      </view>\r\n\r\n    </view>\r\n  </scroll-view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\n  export default {\r\n    data() {\r\n      return {\r\n        iconRect: null as DOMRect | null,\r\n        viewEleRect: null as DOMRect | null,\r\n        touchstartValue: [] as string[],\r\n        touchmoveValue: [] as string[],\r\n        touchendValue: [] as string[],\r\n        ret1: false,\r\n        ret2: false\r\n      }\r\n    },\r\n    onReady() {\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    },\r\n    methods: {\r\n      clearValue() {\r\n        this.touchstartValue = []\r\n        this.touchmoveValue = []\r\n        this.touchendValue = []\r\n      },\r\n      isPassTest1() {\r\n        let touchStart = this.touchstartValue.join(\"\")\r\n        let touchMove = this.touchmoveValue.join(\"\")\r\n        let touchEnd = this.touchendValue.join(\"\")\r\n        uni.__f__('log','at pages/component/global-events/touch-events-bubbles.uvue:58',\"touchStart: \", touchStart)\r\n        uni.__f__('log','at pages/component/global-events/touch-events-bubbles.uvue:59',\"touchMove: \", touchMove)\r\n        uni.__f__('log','at pages/component/global-events/touch-events-bubbles.uvue:60',\"touchEnd: \", touchEnd)\r\n\r\n        let result = touchStart == \"view1-3view1-2view1\" &&\r\n          touchMove == \"view1-3view1-2view1\" &&\r\n          touchEnd == \"view1-3view1-2view1\"\r\n        uni.__f__('log','at pages/component/global-events/touch-events-bubbles.uvue:65','isPassTest1', result)\r\n        this.ret1 = result\r\n        this.clearValue()\r\n      },\r\n      isPassTest2() {\r\n        let touchStart = this.touchstartValue.join(\"\")\r\n        let touchMove = this.touchmoveValue.join(\"\")\r\n        let touchEnd = this.touchendValue.join(\"\")\r\n        uni.__f__('log','at pages/component/global-events/touch-events-bubbles.uvue:73',\"touchStart: \", touchStart)\r\n        uni.__f__('log','at pages/component/global-events/touch-events-bubbles.uvue:74',\"touchMove: \", touchMove)\r\n        uni.__f__('log','at pages/component/global-events/touch-events-bubbles.uvue:75',\"touchEnd: \", touchEnd)\r\n\r\n        let result = touchStart == \"view2-3view2\" &&\r\n          touchMove == \"view2\" &&\r\n          touchEnd == \"view2-3view2-2view2\"\r\n        uni.__f__('log','at pages/component/global-events/touch-events-bubbles.uvue:80','isPassTest2', result)\r\n        this.ret2 = result\r\n        this.clearValue()\r\n      },\r\n      onTouchStart(e : TouchEvent) {\r\n        let _id = e.currentTarget!.attributes.get(\"id\") as string\r\n        if (!this.touchstartValue.includes(_id)) {\r\n          this.touchstartValue.push(_id)\r\n        }\r\n        uni.__f__('log','at pages/component/global-events/touch-events-bubbles.uvue:89','onTouchStart', e.currentTarget!.attributes.get(\"id\"))\r\n      },\r\n      onTouchMove(e : TouchEvent) {\r\n        let _id = e.currentTarget!.attributes.get(\"id\") as string\r\n        if (!this.touchmoveValue.includes(_id)) {\r\n          this.touchmoveValue.push(_id)\r\n        }\r\n        uni.__f__('log','at pages/component/global-events/touch-events-bubbles.uvue:96','onTouchMove', e.currentTarget!.attributes.get(\"id\"))\r\n      },\r\n      onTouchEnd(e : TouchEvent) {\r\n        let _id = e.currentTarget!.attributes.get(\"id\") as string\r\n        if (!this.touchendValue.includes(_id)) {\r\n          this.touchendValue.push(_id)\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .container {\r\n    width: 100%;\r\n    height: 80%;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n  }\r\n\r\n  .view-box {\r\n    width: 200px;\r\n    height: 200px;\r\n    align-items: center;\r\n    justify-content: center;\r\n    border-style: solid;\r\n  }\r\n\r\n  .mid-view {\r\n    width: 150px;\r\n    height: 150px;\r\n    align-items: center;\r\n    justify-content: center;\r\n    background-color: aqua;\r\n  }\r\n\r\n  .icon {\r\n    width: 100px;\r\n    height: 100px;\r\n  }\r\n</style>\r\n","import MiniProgramPage from 'W:/Workplace/2.小程序/lihai-app/pages/component/global-events/touch-events-bubbles.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni"],"mappings":";;;AAqBE,MAAA,YAAeA,8BAAA;AAAA,EACb,OAAI;AACF,WAAO;AAAA,MACL,UAAU;AAAA,MACV,aAAa;AAAA,MACb,iBAAiB,CAAc;AAAA,MAC/B,gBAAgB,CAAc;AAAA,MAC9B,eAAe,CAAc;AAAA,MAC7B,MAAM;AAAA,MACN,MAAM;AAAA;EAET;AAAA,EACD,UAAO;AAAA,EAaN;AAAA,EACD,SAAS;AAAA,IACP,aAAU;AACR,WAAK,kBAAkB;AACvB,WAAK,iBAAiB;AACtB,WAAK,gBAAgB;IACtB;AAAA,IACD,cAAW;AACT,UAAI,aAAa,KAAK,gBAAgB,KAAK,EAAE;AAC7C,UAAI,YAAY,KAAK,eAAe,KAAK,EAAE;AAC3C,UAAI,WAAW,KAAK,cAAc,KAAK,EAAE;AACzCC,oBAAG,MAAC,MAAM,OAAM,iEAAgE,gBAAgB,UAAU;AAC1GA,oBAAG,MAAC,MAAM,OAAM,iEAAgE,eAAe,SAAS;AACxGA,oBAAG,MAAC,MAAM,OAAM,iEAAgE,cAAc,QAAQ;AAEtG,UAAI,SAAS,cAAc,yBACzB,aAAa,yBACb,YAAY;AACdA,oBAAG,MAAC,MAAM,OAAM,iEAAgE,eAAe,MAAM;AACrG,WAAK,OAAO;AACZ,WAAK,WAAU;AAAA,IAChB;AAAA,IACD,cAAW;AACT,UAAI,aAAa,KAAK,gBAAgB,KAAK,EAAE;AAC7C,UAAI,YAAY,KAAK,eAAe,KAAK,EAAE;AAC3C,UAAI,WAAW,KAAK,cAAc,KAAK,EAAE;AACzCA,oBAAG,MAAC,MAAM,OAAM,iEAAgE,gBAAgB,UAAU;AAC1GA,oBAAG,MAAC,MAAM,OAAM,iEAAgE,eAAe,SAAS;AACxGA,oBAAG,MAAC,MAAM,OAAM,iEAAgE,cAAc,QAAQ;AAEtG,UAAI,SAAS,cAAc,kBACzB,aAAa,WACb,YAAY;AACdA,oBAAG,MAAC,MAAM,OAAM,iEAAgE,eAAe,MAAM;AACrG,WAAK,OAAO;AACZ,WAAK,WAAU;AAAA,IAChB;AAAA,IACD,aAAa,GAAc;AACzB,UAAI,MAAM,IAAA,OAAA,EAAE,cAAe,YAAe,IAAI;AAC9C,UAAI,CAAC,KAAK,gBAAgB,SAAS,GAAG,GAAG;AACvC,aAAK,gBAAgB,KAAK,GAAG;AAAA,MAC/B;AACAA,oBAAAA,MAAI,MAAM,OAAM,iEAAgE,gBAAgB,IAAA,OAAA,EAAE,cAAe,YAAe,IAAI;IACrI;AAAA,IACD,YAAY,GAAc;AACxB,UAAI,MAAM,IAAA,OAAA,EAAE,cAAe,YAAe,IAAI;AAC9C,UAAI,CAAC,KAAK,eAAe,SAAS,GAAG,GAAG;AACtC,aAAK,eAAe,KAAK,GAAG;AAAA,MAC9B;AACAA,oBAAAA,MAAI,MAAM,OAAM,iEAAgE,eAAe,IAAA,OAAA,EAAE,cAAe,YAAe,IAAI;IACpI;AAAA,IACD,WAAW,GAAc;AACvB,UAAI,MAAM,IAAA,OAAA,EAAE,cAAe,YAAe,IAAI;AAC9C,UAAI,CAAC,KAAK,cAAc,SAAS,GAAG,GAAG;AACrC,aAAK,cAAc,KAAK,GAAG;AAAA,MAC7B;AAAA,IACF;AAAA,EACF;CACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvGF,GAAG,WAAW,eAAe;"}