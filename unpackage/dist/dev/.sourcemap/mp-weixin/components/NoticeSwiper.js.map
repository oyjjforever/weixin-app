{"version":3,"file":"NoticeSwiper.js","sources":["components/NoticeSwiper.vue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovQVBQX1dPUktQTEFDRS_lhbbku5YvbHhqai1hcHAvY29tcG9uZW50cy9Ob3RpY2VTd2lwZXIudnVl"],"sourcesContent":["<template>\r\n  <view class=\"notice-swiper-container\" v-if=\"noticeList.length > 0\">\r\n    <view class=\"notice-swiper\">\r\n      <swiper\r\n        class=\"swiper\"\r\n        :autoplay=\"autoplay\"\r\n        :interval=\"interval\"\r\n        :circular=\"true\"\r\n        :vertical=\"vertical\"\r\n        :indicator-dots=\"false\"\r\n        @change=\"onSwiperChange\"\r\n      >\r\n        <swiper-item v-for=\"(item, index) in noticeList\" :key=\"item._id || index\">\r\n          <view\r\n            class=\"swiper-item\"\r\n            :class=\"'type-' + item.type\"\r\n            @click=\"handleClick(item)\"\r\n          >\r\n            <view class=\"notice-icon\">\r\n              <uni-icons\r\n                :type=\"getIconType(item.type)\"\r\n                size=\"20\"\r\n                color=\"#ffffff\"\r\n              ></uni-icons>\r\n            </view>\r\n            <view class=\"notice-content\">\r\n              <text class=\"notice-title\">{{ item.title }}</text>\r\n              <text class=\"notice-desc\">{{ getShortContent(item.content) }}</text>\r\n            </view>\r\n            <view class=\"notice-arrow\">\r\n              <uni-icons type=\"right\" size=\"18\" color=\"#ffffff\"></uni-icons>\r\n            </view>\r\n          </view>\r\n        </swiper-item>\r\n      </swiper>\r\n      \r\n      <!-- 指示器 -->\r\n      <view class=\"indicator-dots\" v-if=\"noticeList.length > 1\">\r\n        <view\r\n          v-for=\"(item, index) in noticeList\"\r\n          :key=\"index\"\r\n          class=\"indicator-dot\"\r\n          :class=\"{ active: currentIndex === index }\"\r\n        ></view>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { ref } from 'vue';\r\n\r\n// Props定义\r\ninterface NoticeItem {\r\n  _id?: string;\r\n  title: string;\r\n  content: string;\r\n  type: 'promotion' | 'announcement' | 'maintenance';\r\n  image?: string;\r\n  linkUrl?: string;\r\n  linkType?: 'none' | 'page' | 'url' | 'product';\r\n  priority?: number;\r\n  status?: string;\r\n  startTime?: number;\r\n  endTime?: number;\r\n  sort?: number;\r\n}\r\n\r\nconst props = withDefaults(defineProps<{\r\n  noticeList: NoticeItem[];\r\n  autoplay?: boolean;\r\n  interval?: number;\r\n  vertical?: boolean;\r\n}>(), {\r\n  noticeList: () => [],\r\n  autoplay: true,\r\n  interval: 5000,\r\n  vertical: false\r\n});\r\n\r\n// Emits定义\r\nconst emit = defineEmits<{\r\n  click: [notice: NoticeItem];\r\n}>();\r\n\r\nconst currentIndex = ref(0);\r\n\r\n// 根据通知类型获取图标\r\nconst getIconType = (type: string) => {\r\n  const iconMap: Record<string, string> = {\r\n    promotion: 'gift',\r\n    announcement: 'notification',\r\n    maintenance: 'gear'\r\n  };\r\n  return iconMap[type] || 'notification';\r\n};\r\n\r\n// 获取简短内容描述\r\nconst getShortContent = (content: string) => {\r\n  if (!content) return '';\r\n  return content.length > 30 ? content.substring(0, 30) + '...' : content;\r\n};\r\n\r\n// 轮播切换事件\r\nconst onSwiperChange = (e: any) => {\r\n  currentIndex.value = e.detail.current;\r\n};\r\n\r\n// 点击事件处理\r\nconst handleClick = (item: NoticeItem) => {\r\n  emit('click', item);\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.notice-swiper-container {\r\n  width: 100%;\r\n  background-color: #fff;\r\n}\r\n\r\n.notice-swiper {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 90rpx;\r\n}\r\n\r\n.swiper {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.swiper-item {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0 20rpx;\r\n  height: 100%;\r\n  cursor: pointer;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n}\r\n\r\n/* 促销活动样式 */\r\n.type-promotion {\r\n  background: linear-gradient(90deg, #ff6b6b 0%, #ff8e53 100%);\r\n}\r\n\r\n/* 公告样式 */\r\n.type-announcement {\r\n  background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%);\r\n}\r\n\r\n/* 维护通知样式 */\r\n.type-maintenance {\r\n  background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);\r\n}\r\n\r\n.notice-icon {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 50rpx;\r\n  height: 50rpx;\r\n  margin-right: 16rpx;\r\n  background-color: rgba(255, 255, 255, 0.2);\r\n  border-radius: 50%;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.notice-content {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n}\r\n\r\n.notice-title {\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  color: #ffffff;\r\n  margin-bottom: 4rpx;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.notice-desc {\r\n  font-size: 12px;\r\n  color: rgba(255, 255, 255, 0.9);\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.notice-arrow {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-left: 16rpx;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.indicator-dots {\r\n  position: absolute;\r\n  right: 20rpx;\r\n  bottom: 10rpx;\r\n  display: flex;\r\n  gap: 8rpx;\r\n}\r\n\r\n.indicator-dot {\r\n  width: 8rpx;\r\n  height: 8rpx;\r\n  background-color: rgba(255, 255, 255, 0.4);\r\n  border-radius: 50%;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.indicator-dot.active {\r\n  width: 20rpx;\r\n  background-color: #ffffff;\r\n  border-radius: 4rpx;\r\n}\r\n</style>\r\n","import Component from 'D:/APP_WORKPLACE/其他/lxjj-app/components/NoticeSwiper.vue'\nwx.createComponent(Component)"],"names":["ref"],"mappings":";;;;;;;;;;;;;;;;;;;;AAiFA,UAAM,OAAO;AAIP,UAAA,eAAeA,kBAAI,CAAC;AAGpB,UAAA,cAAc,CAAC,SAAiB;AACpC,YAAM,UAAkC;AAAA,QACtC,WAAW;AAAA,QACX,cAAc;AAAA,QACd,aAAa;AAAA,MAAA;AAER,aAAA,QAAQ,IAAI,KAAK;AAAA,IAAA;AAIpB,UAAA,kBAAkB,CAAC,YAAoB;AAC3C,UAAI,CAAC;AAAgB,eAAA;AACd,aAAA,QAAQ,SAAS,KAAK,QAAQ,UAAU,GAAG,EAAE,IAAI,QAAQ;AAAA,IAAA;AAI5D,UAAA,iBAAiB,CAAC,MAAW;AACpB,mBAAA,QAAQ,EAAE,OAAO;AAAA,IAAA;AAI1B,UAAA,cAAc,CAAC,SAAqB;AACxC,WAAK,SAAS,IAAI;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7GpB,GAAG,gBAAgB,SAAS;"}